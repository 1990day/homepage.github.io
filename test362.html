<!doctype html>
<html lang="ko">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321" crossorigin="anonymous"></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>í…ŒìŠ¤íŠ¸ì‡ ì•ˆì •í˜• ë¶ˆì•ˆí˜• ì—°ì•  í…ŒìŠ¤íŠ¸</title>
  <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ì•ˆì •í˜• ë¶ˆì•ˆí˜• ì—°ì•  í…ŒìŠ¤íŠ¸">
  <meta property="og:type" content="website">
  <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ì•ˆì •í˜• ë¶ˆì•ˆí˜• ì—°ì•  í…ŒìŠ¤íŠ¸">
  <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ì•ˆì •í˜• ë¶ˆì•ˆí˜• ì—°ì•  í…ŒìŠ¤íŠ¸">
  <meta property="og:image" content="img_main362.png">
  <meta property="og:url" content="https://test-it.co.kr/test362">

  <style>
    /* í°íŠ¸ ì ìš© */
    @font-face {
        font-family: 'Tangba';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2601-4@1.1/Tangba12.woff2') format('woff2');
        font-weight: normal;
        font-display: swap;
    }

    :root{
      --bg:#ffffff;
      --pink-50:#fff3f7;
      --pink-100:#ffe3ee;
      --pink-200:#ffc9dd;
      --pink-300:#ffabd0;
      --pink-400:#ff6fa8;
      
      --primary: var(--pink-400);
      --secondary: var(--pink-300);

      --text:#1f1f1f;
      --muted:#6b6b6b;
      --card:#ffffff;
      --border:#f1d6e2;
      --shadow: 0 12px 28px rgba(20, 20, 20, .08);
      --radius: 20px;
      
      --blue-100: #e3f2fd;
      --blue-400: #42a5f5;
    }
    *{ box-sizing:border-box; }
    
    body{
      margin:0;
      font-family: 'Tangba', ui-sans-serif, system-ui, sans-serif;
      font-size: 17px; 
      background: radial-gradient(1000px 600px at 50% -50px, var(--pink-50), var(--bg));
      color:var(--text);
    }

    /* í—¤ë” */
    .page-header {
      width: 100%; max-width: 820px; margin: 0 auto;
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px 20px; 
      background: rgba(255, 255, 255, 0.6); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.8);
      box-shadow: 0 2px 10px rgba(255, 182, 193, 0.1);
      position: sticky; top: 0; z-index: 100;
      
      /* ë¬´ì¡°ê±´ í•œ ì¤„ ìœ ì§€ */
      flex-wrap: nowrap !important;
      white-space: nowrap;
    }
    .page-header h1 { margin: 0; display: flex; align-items: center; flex-shrink: 0; }
    .logo { width: 100px; display: block; filter: drop-shadow(1px 1px 2px rgba(255, 182, 193, 0.5)); transition: width 0.2s; }
    
    .main-nav { display: flex; font-size: 1rem; list-style: none; margin: 0; padding: 0; align-items: center; }
    .main-nav li { margin-left: 6px; }
    .main-nav a { 
      text-decoration: none; color: #fff; font-weight: normal; 
      background: var(--secondary); padding: 8px 14px; border-radius: 20px;
      border: 2px solid #fff; font-size: 15px;
      box-shadow: 2px 2px 5px rgba(206, 147, 216, 0.3);
      transition: all 0.2s; display: block;
    }
    .main-nav a:hover { background: var(--primary); transform: translateY(-2px); box-shadow: 3px 3px 8px rgba(255, 182, 193, 0.4); }

    /* 430px ì´í•˜ì¼ ë•Œ ëŒ€ì‘ */
    @media (max-width: 430px){
      .page-header { padding: 10px 8px; } 
      .logo { width: 90px; }
      
      .main-nav a { 
        font-size: 14px; 
        padding: 6px 10px; 
      }
      .main-nav li { margin-left: 3px; }
    }

    /* ë ˆì´ì•„ì›ƒ & ê³µí†µ */
    .wrap{ max-width: 820px; margin: 0 auto; padding: 22px 16px 34px; }
    
    .card{ 
      background: var(--card); 
      border: 1px solid var(--border); 
      border-radius: var(--radius); 
      box-shadow: var(--shadow); 
      padding: 12px; 
    }
    .hidden{ display:none !important; }
    
    .title{ text-align:center; margin: 0 0 10px; font-size: 28px; letter-spacing: -0.02em; line-height: 1.3; }
    
    #screenGender .title {
      font-size: 22px; 
      color: #ff6fa8;  
      margin-top: 10px;
      margin-bottom: 20px;
    }

    .subtitle{ text-align:center; margin: 0 0 24px; color: var(--muted); font-size: 18px; line-height:1.5; }
    
    /* ê´‘ê³  ìŠ¤íƒ€ì¼ */
    .coupang_ad { width: 100%; margin: 0 auto; text-align: center; overflow:hidden; border-radius:20px; border: 2px solid #F0F0F0; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

    /* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
    .hero{ display:flex; justify-content:center; margin: 14px 0 24px; }
    .hero img{ 
      width: 100%; 
      height: auto; 
      border-radius: 20px; 
      border: 1px solid var(--border); 
      background: var(--pink-50); 
      display: block;
    }

    /* ê¸°ë³¸ ë²„íŠ¼ */
    .btn-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
    .btn{ 
      appearance:none; border:none; cursor:pointer; border-radius: 999px; 
      padding: 14px 24px; 
      font-size: 18px; font-family: 'Tangba', sans-serif;
      transition: transform .06s ease, filter .15s ease, box-shadow .15s ease; user-select:none; 
    }
    .btn:active{ transform: translateY(1px) scale(0.995); }
    .btn.primary{ background: linear-gradient(180deg, var(--pink-200), #ffb3d0); color: #2b1020; box-shadow: 0 10px 18px rgba(255, 111, 168, .25); }
    .btn.ghost{ background: #fff; border: 1px solid var(--border); color: var(--text); }
    .btn.small{ padding: 10px 16px; font-size: 15px; }

    /* ê²°ê³¼ í™”ë©´ ì„¸ë¡œ ë²„íŠ¼ */
    .btn-v-stack { display: flex; flex-direction: column; gap: 12px; width: 100%; max-width: 320px; margin: 0 auto; }
    .btn-v-stack .btn { width: 100%; display: flex; justify-content: center; align-items: center; text-decoration: none; }

    /* ì„±ë³„ ì„ íƒ ì ¤ë¦¬ ë²„íŠ¼ */
    .gender-wrap { display: flex; gap: 16px; justify-content: center; margin: 24px 0 12px; }
    .gender-btn { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px; height: 160px; border-radius: 28px; border: 2px solid transparent; background: #fff; cursor: pointer; transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); position: relative; top: 0; }
    .gender-btn .emoji { font-size: 52px; line-height: 1; margin-bottom: 4px; }
    .gender-btn .label { font-size: 22px; font-family: 'Tangba', sans-serif; }
    .gender-btn.female { background: var(--pink-50); color: #d6336c; border-color: var(--pink-200); box-shadow: 0 8px 0 #ffc9dd, 0 15px 20px rgba(255, 111, 168, 0.2); }
    .gender-btn.male { background: var(--blue-100); color: #1976d2; border-color: #bbdefb; box-shadow: 0 8px 0 #bbdefb, 0 15px 20px rgba(66, 165, 245, 0.2); }
    .gender-btn:active { top: 8px; box-shadow: 0 0 0 #ffc9dd, 0 0 0 rgba(0,0,0,0); transform: scale(0.96); }
    .gender-btn.male:active { box-shadow: 0 0 0 #bbdefb, 0 0 0 rgba(0,0,0,0); }

    /* ì§„í–‰ë°” */
    .topbar{ display:flex; align-items:center; justify-content:space-between; gap: 12px; margin-bottom: 18px; }
    .pill{ font-size:14px; color: #6a2a46; background: var(--pink-50); border: 1px solid var(--border); padding: 6px 12px; border-radius: 999px; white-space:nowrap; }
    .progress{ height: 14px; background: #fff; border: 1px solid var(--border); border-radius: 999px; overflow:hidden; flex:1; }
    .progress > div{ height:100%; width:0%; background: linear-gradient(90deg, #ff8fbd, var(--pink-400)); border-radius: 999px; transition: width .25s ease; }

    /* ì§ˆë¬¸ ì¹´ë“œ */
    .q-area{ padding: 8px 2px 2px; }
    .q-shell{ position: relative; border-radius: 24px; border: 1px solid var(--border); overflow: hidden; background: radial-gradient(18px 18px at 12% 18%, rgba(255,111,168,.18) 0 40%, transparent 41%), radial-gradient(14px 14px at 82% 22%, rgba(255,111,168,.12) 0 45%, transparent 46%), radial-gradient(16px 16px at 68% 78%, rgba(255,111,168,.10) 0 42%, transparent 43%), linear-gradient(180deg, #fff, var(--pink-50)); box-shadow: 0 10px 24px rgba(255,111,168,.10); }
    .q-head{ padding: 16px 18px 14px; background: linear-gradient(90deg, #ffd2e5, #fff); border-bottom: 1px solid var(--border); display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .q-badges{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .tag{ font-size: 14px; color:#5d2440; background: rgba(255,255,255,.75); border: 1px solid var(--border); padding: 6px 12px; border-radius: 999px; backdrop-filter: blur(6px); }
    .q-count{ font-size:14px; color:#6a2a46; background: rgba(255,255,255,.65); border: 1px solid var(--border); padding: 6px 12px; border-radius: 999px; white-space:nowrap; }
    .q-body{ padding: 20px 18px 24px; text-align: center; }
    
    /* ì§ˆë¬¸ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
    .q-text{ 
      margin: 10px 0 24px; 
      text-align:center; 
      font-size: 21px; 
      line-height: 1.5; 
      letter-spacing:-0.02em; 
      color: #b04270; 
      display: inline-block; 
      border-bottom: 3px solid var(--pink-300); 
      padding-bottom: 4px; 
    }
    .mini-hint{ margin: 14px 0 0; text-align:center; color: var(--muted); font-size: 15px; line-height:1.45; }
    
    .choice-row{ display:flex; gap: 14px; align-items:stretch; }
    .choice{ flex:1; position: relative; border-radius: 20px; border: 1px solid var(--border); background: rgba(255,255,255,.9); padding: 20px 16px; cursor:pointer; text-align:left; transition: transform .06s ease, box-shadow .15s ease, border-color .15s ease; min-height: 96px; display:flex; gap:12px; align-items:flex-start; backdrop-filter: blur(8px); }
    .choice:hover{ border-color: #f3b7cf; box-shadow: 0 12px 22px rgba(255, 111, 168, .12); }
    .choice:active{ transform: translateY(1px); }
    .badge{ width: 34px; height: 34px; border-radius: 12px; background: var(--pink-50); border: 1px solid var(--border); display:grid; place-items:center; flex: 0 0 auto; color:#6a2a46; font-size: 14px; margin-top: 2px; box-shadow: 0 10px 18px rgba(255,111,168,.10); }
    .choice p{ margin:0; font-size: 18px; line-height:1.45; }
    .choice::after{ content:""; position:absolute; inset:0; border-radius: 18px; pointer-events:none; opacity:0; transition: opacity .15s ease; background: linear-gradient(180deg, rgba(255,111,168,.12), rgba(255,111,168,0)); }
    .choice:hover::after{ opacity:1; }
    .choice.selected{ border-color:#ff9fc5; box-shadow: 0 14px 26px rgba(255,111,168,.18); }
    .choice.selected .badge{ background: linear-gradient(180deg, var(--pink-200), #ffb3d0); border-color:#ff9fc5; }

    /* ê²°ê³¼ í™”ë©´ */
    .result-title{ display: none; }
    .result-img{ display:flex; justify-content:center; margin: 12px 0 24px; }
    .result-img img{ 
      width: 100%; 
      height: auto; 
      border-radius: 20px; 
      border: 1px solid var(--border); 
      background: var(--pink-50); 
      display: block;
    }
    .note{ text-align:center; color: var(--muted); font-size: 14px; line-height:1.45; margin-top: 12px; }

    @media (max-width: 520px){
      .card{ padding: 12px; } 
      .q-text{ font-size: 20px; }
      .choice-row{ flex-direction:column; }
      .choice{ min-height: auto; }
    }
  </style>
</head>

<body>
  <header class="page-header">
    <h1>
      <a href="index.html">
        <img class="logo" src="img_logo.png" alt="TEST IT">
      </a>
    </h1>
    <nav>
      <ul class="main-nav">
        <li><a href="https://test-it.co.kr/test.html">ì„±ê²©</a></li>
        <li><a href="https://test-it.co.kr/face.html">ì–¼êµ´</a></li>
        <li><a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a></li>
        <li><a href="https://test-it.co.kr/saju.html">ì‚¬ì£¼</a></li>
      </ul>
    </nav>
  </header>

  <div class="wrap">
    
    <section id="screenMain" class="card">
      <div class="hero">
        <img id="mainImg" src="img_main362.png" alt="ë©”ì¸ ì´ë¯¸ì§€" />
      </div>
      <div class="btn-row">
        <button class="btn primary" id="btnStart">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
      </div>
    </section>

    <section id="screenGender" class="card hidden">
      <h2 class="title">ì„±ë³„ì„ ì„ íƒí•´ì¤˜</h2>
      <div class="gender-wrap">
        <button class="gender-btn female" id="btnFemale">
          <span class="emoji">ğŸ‘©ğŸ»</span> <span class="label">ì—¬ì</span>
        </button>
        <button class="gender-btn male" id="btnMale">
          <span class="emoji">ğŸ‘¨ğŸ»</span> <span class="label">ë‚¨ì</span>
        </button>
      </div>
      <div class="btn-row" style="margin-top:20px;">
        <button class="btn ghost small" id="btnBackToMain">ë’¤ë¡œ</button>
      </div>
    </section>

    <section id="screenTest" class="card hidden">
      <div class="topbar">
        <div class="pill" id="progressText">1 / 10</div>
        <div class="progress" aria-label="progress"><div id="progressBar"></div></div>
        <button class="btn ghost small" id="btnQuit">ì²˜ìŒìœ¼ë¡œ</button>
      </div>

      <div class="q-area">
        <div class="q-shell">
          <div class="q-head">
            <div class="q-badges"><span class="tag" id="qTag">ì—°ë½</span><span class="tag" id="qMood">ë§ˆìŒ ë°˜ì‘</span></div>
            <div class="q-count" id="qCount">Q1</div>
          </div>
          <div class="q-body">
            <h3 class="q-text" id="qText">ì§ˆë¬¸</h3>
            <div class="choice-row">
              <button class="choice" id="leftChoice"><div class="badge">A</div><p id="leftText">ì™¼ìª½</p></button>
              <button class="choice" id="rightChoice"><div class="badge">B</div><p id="rightText">ì˜¤ë¥¸ìª½</p></button>
            </div>
            <p class="mini-hint" id="qHint">íŒíŠ¸</p>
          </div>
        </div>
      </div>
    </section>

    <section id="screenResult" class="card hidden">
      <h2 class="result-title" id="resultTitle">ê²°ê³¼</h2>

      <div class="result-img">
        <img id="resultImg" src="result_placeholder.png" alt="ê²°ê³¼ ì´ë¯¸ì§€" />
      </div>

      <div class="btn-v-stack">
        <button class="btn primary" id="btnSaveImg">ê²°ê³¼ ì´ë¯¸ì§€ ì €ì¥í•˜ê¸°</button>
        <button class="btn primary" id="btnRetry">ë‹¤ì‹œ í•´ë³´ê¸°</button>
        <a class="btn primary" id="btnOther" href="#" style="text-decoration:none;">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°</a>
        <button class="btn primary" id="btnShare">í…ŒìŠ¤íŠ¸ ê³µìœ í•˜ê¸°</button>
      </div>
    </section>

    <article class="coupang_ad mt-3" style="margin: 20px 0 10px;">
        <script src="https://ads-partners.coupang.com/g.js"></script>
        <script>
            new PartnersCoupang.G({"id":798186,"template":"carousel","trackingCode":"AF4391881","width":"320","height":"100","tsource":""});
        </script>
    </article>

  </div>

  <script>
    const QUESTIONS = [
      { tag:"ì—°ë½", mood:"ë¶ˆì•ˆ íŠ¸ë¦¬ê±°", hint:"ğŸ’Œ ë‹µì¥ ì•ˆ ì˜¬ ë•Œ ë‚´ ë¨¸ë¦¿ì†ì€? ğŸ¤¯", q:"ì—°ì¸ì´ ë‹µì¥ì´ ëŠ¦ì„ ë•Œ<br>ë‚´ ì²« ë°˜ì‘ì€?", left:{text:"ë°”ì˜ê² ì§€.<br>ì¼ë‹¨ ë‚´ í•  ì¼ í•˜ë©° ê¸°ë‹¤ë¦°ë‹¤", stable:1}, right:{text:"ì™œ ëŠ¦ì§€?<br>ë¬´ìŠ¨ ì¼ ìˆë‚˜ ê³„ì† ì‹ ê²½ ì“°ì¸ë‹¤", stable:0} },
      { tag:"ê±°ë¦¬ê°", mood:"ììœ¨ vs ë¶ˆì•ˆ", hint:"ğŸï¸ í˜¼ìë§Œì˜ ì‹œê°„, ì¿¨í•˜ê²Œ ì¸ì •? ğŸ˜", q:"ì—°ì¸ì´ í˜¼ìë§Œì˜ ì‹œê°„ì´<br>í•„ìš”í•˜ë‹¤ê³  ë§í•˜ë©´?", left:{text:"ê·¸ë˜ ì¢€ ì‰¬ê³  ì™€~<br>ë‚˜ë„ ë‚´ ì‹œê°„ ë³´ë‚¸ë‹¤", stable:1}, right:{text:"ë‚˜í•œí…Œ ì§ˆë ¸ë‚˜?<br>ë§ˆìŒì´ ì‹ì€ ê±´ì§€ ë¶ˆì•ˆí•´ì§„ë‹¤", stable:0} },
      { tag:"ì‚¬íšŒìƒí™œ", mood:"ì‹ ë¢° í…ŒìŠ¤íŠ¸", hint:"ğŸ» ì¹œêµ¬ ë§Œë‚˜ëŠ” ì• ì¸, ì¿¨í•˜ê²Œ ì•ˆë…•? ğŸ‘‹", q:"ì—°ì¸ì´ ì¹œêµ¬ë“¤ì´ë‘<br>ë†€ëŸ¬ ê°„ë‹¤ê³  í•˜ë©´?", left:{text:"ì¬ë°Œê²Œ ë†€ê³  ì™€<br>ë‚´ í•  ì¼ í•˜ë©´ì„œ ê¸°ë‹¤ë¦¼", stable:1}, right:{text:"ëˆ„êµ¬ë‘ ê°€? ëª‡ ì‹œì— ëë‚˜?<br>ìê¾¸ í™•ì¸í•˜ê³  ì‹¶ë‹¤", stable:0} },
      { tag:"ì‹¸ì›€", mood:"íšŒë³µ ë°©ì‹", hint:"ğŸ”¥ ì‹¸ìš°ê³  ë‚˜ì„œ ì—°ë½ ëŠê¸°ë©´? ğŸ“±", q:"ì‹¸ìš´ ë’¤<br>ì—°ë½ì´ ëœ¸í•´ì¡Œì„ ë•Œ ë‚˜ëŠ”?", left:{text:"ë‚´ ê°ì •ì„ ê°€ë¼ì•‰íˆê³  ë‚˜ì„œ<br>ëŒ€í™”ë¥¼ ì‹œë„í•œë‹¤", stable:1}, right:{text:"ì´ëŸ¬ë‹¤ ë©€ì–´ì§ˆê¹Œ ë´<br>ë¶ˆì•ˆí•œ ë§ˆìŒì´ ë“ ë‹¤", stable:0} },
      
      { tag:"ê¸°ë¶„", mood:"ëˆˆì¹˜ vs ì—¬ìœ ", hint:"â˜ï¸ ì• ì¸ ê¸°ë¶„ì´ íë¦¼ì¼ ë•Œ ë‚˜ëŠ”? ğŸŒ©ï¸", q:"ì—°ì¸ì˜ ê¸°ë¶„ì´<br>ìœ ë… ë‹¤ìš´ë˜ì–´ ë³´ì¼ ë•Œ?", left:{text:"ë¬´ìŠ¨ ì¼ ìˆë‚˜ ë³´ë„¤..<br>ë§í•´ì¤„ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤", stable:1}, right:{text:"ë‚˜ ë•Œë¬¸ì— ê·¸ëŸ°ê°€?<br>ëˆˆì¹˜ë¥¼ ë³´ë©° ì´ìœ ë¥¼ ì°¾ëŠ”ë‹¤", stable:0} },
      
      { tag:"ì• ì •", mood:"ì‚¬ë‘ í™•ì¸", hint:"ğŸ’• ì• ì •í‘œí˜„ = ì‚¬ë‘ì˜ ì²™ë„? ğŸ“‰", q:"í‰ì†Œë³´ë‹¤ ì—°ì¸ì˜<br>ì• ì •í‘œí˜„ì´ í™• ì¤„ì–´ë“¤ì—ˆë‹¤ë©´?", left:{text:"ì˜¤ëŠ˜ ë§ì´ í”¼ê³¤í•œê°€ ë³´ë‹¤<br>ë³„ìƒê° ì—†ì´ ë„˜ì–´ê°„ë‹¤", stable:1}, right:{text:"ë§ˆìŒì´ ì‹ì—ˆë‚˜?<br>ê°‘ìê¸° ì™œ ì €ëŸ¬ëŠ” ê±¸ê¹Œ..", stable:0} },
      
      { tag:"ì§ˆíˆ¬", mood:"ë¹„êµ ì‹¬ë¦¬", hint:"âœ¨ ë‚¨ ì¹­ì°¬í•˜ëŠ” ì• ì¸, ì§ˆíˆ¬ ë‚˜? ğŸ˜¤", q:"ì—°ì¸ì´ ì§€ë‚˜ê°€ëŠ” ì´ì„±ì„ ë³´ê³ <br>ì € ì‚¬ëŒ ë©‹ìˆë‹¤ ë¼ê³  í•œë‹¤ë©´?", left:{text:"ì˜¤ ê·¸ëŸ¬ë„¤<br>ê°™ì´ ì¹­ì°¬í•˜ê³  ë§Œë‹¤", stable:1}, right:{text:"ë­”ê°€ ë‚˜ë‘ ë¹„êµí•˜ëŠ” ê²ƒ ê°™ì•„<br>ê¸°ë¶„ì´ ì¢‹ì§„ ì•Šë‹¤", stable:0} },
      
      { tag:"ê±°ì ˆ", mood:"ë¶ˆì•ˆ ì¦í­", hint:"ğŸ“… ë°ì´íŠ¸ ì·¨ì†Œ, ê·¸ëƒ¥ ë°”ìœ ê±¸ê¹Œ? ğŸ¥º", q:"ì—°ì¸ì´ ë°”ìœ ì¼ì´ ìƒê²¨<br>ì£¼ë§ ë°ì´íŠ¸ë¥¼ ëª» í•œë‹¤ê³  í•˜ë©´?", left:{text:"ì•„ì‰½ì§€ë§Œ ì–´ì©” ìˆ˜ ì—†ì§€<br>ë‚˜ë„ ì§‘ì—ì„œ í‘¹ ì‰¬ì–´ì•¼ê² ë‹¤", stable:1}, right:{text:"ì§„ì§œ ë°”ìœ ê±° ë§ë‚˜?<br>í˜¹ì‹œ ë§Œë‚˜ê¸° ì‹«ì–´ì„œ í•‘ê³„ ëŒ€ë‚˜?", stable:0} },

      { tag:"í™”í•´", mood:"ê´€ê³„ ì•ˆì •ë„", hint:"ğŸ¤ í™”í•´í•˜ê³  ë‚˜ì„œ ë§˜ í¸í•´? ğŸŒˆ", q:"ì‹¸ìš´ ë’¤ í™”í•´í–ˆì„ ë•Œ<br>ê°€ì¥ ë¨¼ì € ë“œëŠ” ìƒê°ì€?", left:{text:"ì˜ í•´ê²°ë¼ì„œ ë‹¤í–‰ì´ë‹¤<br>ìš°ë¦¬ ê´€ê³„ê°€ ë” ë‹¨ë‹¨í•´ì¡Œì–´", stable:1}, right:{text:"ë˜ ì‹¸ìš°ë©´ ì–´ë–¡í•˜ì§€?<br>ì§„ì§œ ë‹¤ í’€ë¦° ê±¸ê¹Œ?", stable:0} },
      { tag:"í•µì‹¬", mood:"ì—°ì•  ê¸°ì¤€", hint:"ğŸ’– ë‚´ê°€ ê¿ˆê¾¸ëŠ” ì° ì‚¬ë‘ì€? âœ¨", q:"ì—°ì• ì—ì„œ<br>ë‚´ê°€ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë³´ëŠ” ê±´?", left:{text:"ì„œë¡œ ë¯¿ì–´ì£¼ê³ <br>ê°ìì˜ ì‚¶ì„ ì¡´ì¤‘í•˜ëŠ” ê²ƒ", stable:1}, right:{text:"í™•ì‹¤í•œ ì• ì • í‘œí˜„ê³¼<br>ë‚˜ë¥¼ ì¢‹ì•„í•œë‹¤ëŠ” í™•ì‹ ", stable:0} }
    ];

    let gender = null;
    let idx = 0;
    let stableScore = 0; 

    const screenMain = document.getElementById("screenMain");
    const screenGender = document.getElementById("screenGender");
    const screenTest = document.getElementById("screenTest");
    const screenResult = document.getElementById("screenResult");

    const btnStart = document.getElementById("btnStart");
    const btnMale = document.getElementById("btnMale");
    const btnFemale = document.getElementById("btnFemale");
    const btnBackToMain = document.getElementById("btnBackToMain");

    const progressText = document.getElementById("progressText");
    const progressBar = document.getElementById("progressBar");
    const btnQuit = document.getElementById("btnQuit");

    const qTag = document.getElementById("qTag");
    const qMood = document.getElementById("qMood");
    const qHint = document.getElementById("qHint");
    const qCount = document.getElementById("qCount");
    const qText = document.getElementById("qText");
    const leftChoice = document.getElementById("leftChoice");
    const rightChoice = document.getElementById("rightChoice");
    const leftText = document.getElementById("leftText");
    const rightText = document.getElementById("rightText");

    const resultTitle = document.getElementById("resultTitle");
    const resultImg = document.getElementById("resultImg");
    const btnSaveImg = document.getElementById("btnSaveImg");
    const btnRetry = document.getElementById("btnRetry");
    const btnOther = document.getElementById("btnOther");
    const btnShare = document.getElementById("btnShare");

    function show(screen){
      [screenMain, screenGender, screenTest, screenResult].forEach(s => s.classList.add("hidden"));
      screen.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function resetTest(){
      idx = 0;
      stableScore = 0;
    }

    function renderQuestion(){
      const total = QUESTIONS.length;
      const q = QUESTIONS[idx];
      progressText.textContent = `${idx+1} / ${total}`;
      progressBar.style.width = `${Math.round(((idx+1)/total)*100)}%`;

      qCount.textContent = `Q${idx+1}`;
      qTag.textContent = q.tag;
      qMood.textContent = q.mood;
      qHint.textContent = q.hint;
      
      qText.innerHTML = q.q;
      leftText.innerHTML = q.left.text;
      rightText.innerHTML = q.right.text;

      leftChoice.classList.remove("selected");
      rightChoice.classList.remove("selected");
    }

    function pick(side){
      const q = QUESTIONS[idx];
      const choice = (side === "left") ? q.left : q.right;

      if(side === "left") {
        leftChoice.classList.add("selected");
        rightChoice.classList.remove("selected");
      } else {
        rightChoice.classList.add("selected");
        leftChoice.classList.remove("selected");
      }

      stableScore += choice.stable; 

      setTimeout(() => {
        idx++;
        if(idx >= QUESTIONS.length){
          renderResult();
          show(screenResult);
          return;
        }
        renderQuestion();
      }, 150);
    }

    function renderResult(){
      const stablePct = stableScore * 10;
      // í…ìŠ¤íŠ¸ ì¶œë ¥ ì½”ë“œ ì œê±°ë¨
      // const role = (gender === "m") ? "ë‚¨ì" : "ì—¬ì";
      // resultTitle.textContent = `${role} ë²„ì „ ê²°ê³¼`;

      const imgPath = `result362_${gender}${stablePct}.png`;
      
      resultImg.src = imgPath;
      resultImg.onerror = () => { resultImg.src = "result_placeholder.png"; };

      btnOther.href = "#"; 
    }

    function downloadImage(imgEl){
      const a = document.createElement("a");
      a.href = imgEl.src;
      a.download = "testit_result362.png";
      document.body.appendChild(a);
      a.click();
      a.remove();
    }

    async function shareTest(){
      const shareData = { title: document.title, text: "í…ŒìŠ¤íŠ¸ì‡ ì•ˆì •í˜• ë¶ˆì•ˆí˜• ì—°ì•  í…ŒìŠ¤íŠ¸", url: location.href };
      try{
        if(navigator.share) await navigator.share(shareData);
        else { await navigator.clipboard.writeText(location.href); alert("ë§í¬ ë³µì‚¬ ì™„ë£Œ!"); }
      }catch(e){}
    }

    btnStart.addEventListener("click", () => show(screenGender));
    btnBackToMain.addEventListener("click", () => show(screenMain));
    
    btnMale.addEventListener("click", () => { gender = "m"; resetTest(); renderQuestion(); show(screenTest); });
    btnFemale.addEventListener("click", () => { gender = "f"; resetTest(); renderQuestion(); show(screenTest); });

    leftChoice.addEventListener("click", () => pick("left"));
    rightChoice.addEventListener("click", () => pick("right"));
    
    btnQuit.addEventListener("click", () => { resetTest(); gender = null; show(screenMain); });
    btnRetry.addEventListener("click", () => { resetTest(); gender = null; show(screenMain); });
    btnSaveImg.addEventListener("click", () => downloadImage(resultImg));
    btnShare.addEventListener("click", shareTest);

    show(screenMain);
  </script>
</body>
</html>