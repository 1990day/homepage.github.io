
<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <title>í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸</title>
    <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸">
<meta name="keywords" content="í…ŒìŠ¤íŠ¸ì‡,ì„±ê²©í…ŒìŠ¤íŠ¸,ë§¤ëˆë§¤ëˆí•œì„±ê²©í…ŒìŠ¤íŠ¸,ë§¤ëˆë§¤ëˆí•˜ë‹¤,í‘±í‘±í•˜ë‹¤,ìš¸í‰ë¶ˆí‰í•˜ë‹¤,í…ŒìŠ¤íŠ¸ì‡ë§¤ëˆë§¤ëˆ,ìš¸í‰ë¶ˆí‰í…ŒìŠ¤íŠ¸,ì—°ì• mbti,ì—°ì• ì„±ê²©í…ŒìŠ¤íŠ¸, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, mbtií…ŒìŠ¤íŠ¸">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸">
    <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸">
    <meta property="og:image" content="img_main332.png">
    <meta property="og:url" content="https://test-it.co.kr/test332.html">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

<script src="https://ads-partners.coupang.com/g.js" async></script>


    <style>
        
        
.start{
    display: flex;
    flex-direction: column;
}

.logo {
    width: 100px; /* ë” ì‘ê²Œ ì¤„ì—¬ë³¼ê²Œ */
    height: auto; /* ê°€ë¡œì„¸ë¡œ ë¹„ìœ¨ ìœ ì§€ */
    max-width: 100%;
    margin-top: 14px;
    display: block;
}

.main-nav {
    display: flex;
    font-size: 1.25rem;
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
    flex-wrap: nowrap; /* âœ… ì¤„ë°”ê¿ˆ ë°©ì§€ */
    overflow-x: auto;   /* âœ… í™”ë©´ì´ ì¢ìœ¼ë©´ ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ */
    gap: 20px;          /* âœ… ê°„ê²© ì •ëˆ */
}

.main-nav li {
    white-space: nowrap; /* âœ… ì¤„ë°”ê¿ˆ ë°©ì§€ */
    font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
    color: #432;
}

.main-nav a{
    color: #432;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
}

.main-nav a:hover {
    color: #0bd;
}


.page-header {
    display: flex;
    justify-content: space-between;
}

    
article{
    display: flex;
    flex-direction: column;
}

 
        /* ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ CSS ì½”ë“œ */
        
        body {
            font-family: Noto Sans KR, sans-serif;
            text-align: center;
        }
            /* ì´ë¯¸ì§€ì— ì•„ë˜ ì—¬ë°±ì„ ì£¼ì–´ ë²„íŠ¼ì„ ë‚´ë¦½ë‹ˆë‹¤. */
    /* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.7);
        }

/* ê¸°ë³¸ ëª¨ë‹¬ ì½˜í…ì¸  ìŠ¤íƒ€ì¼ */
.modal-content {
    position: absolute;
    top: 50%; /* í™”ë©´ ì„¸ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    left: 50%; /* í™”ë©´ ê°€ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    transform: translate(-50%, -50%); /* ê°€ìš´ë° ì •ë ¬ì„ ìœ„í•œ ë³€í˜• */
    background-color: #ffdbdb;
    margin: auto;
    padding: 20px; /* ë‚´ìš©ì— ë§ê²Œ ì¡°ì ˆ */
    border: 1px solid #888;
    width: 50%; /* ëª¨ë‹¬ ì°½ì˜ ê°€ë¡œ ë„ˆë¹„ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤. */
     height: 10%;
    max-width: 400px;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    border-radius: 10px; /* ëª¨ë‹¬ ì°½ ëª¨ì„œë¦¬ë¥¼ 10pxë§Œí¼ ë‘¥ê¸€ê²Œ ë§Œë“­ë‹ˆë‹¤. */
}
        /* ëª¨ë‹¬ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
#modalText {
    text-align: center; /* ê°€ë¡œ ê°€ìš´ë° ì •ë ¬ */
    position: absolute; /* ìœ„ì¹˜ ì§€ì • */
    top: 50%; /* ì„¸ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    left: 50%; /* ê°€ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    transform: translate(-50%, -50%); /* ê°€ìš´ë° ì •ë ¬ì„ ìœ„í•œ ë³€í˜• */
}

        
/* ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.close {
    position: absolute; /* ëª¨ë‹¬ ë‚´ë¶€ì—ì„œ ì ˆëŒ€ ìœ„ì¹˜ë¡œ ì„¤ì • */
    bottom: -50px; /* ëª¨ë‹¬ ë‚´ë¶€ ì•„ë˜ì— ì—¬ë°±ì„ ë‘¡ë‹ˆë‹¤. */
    left: 50%; /* ëª¨ë‹¬ ë‚´ë¶€ ê°€ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
    transform: translateX(-50%); /* ìˆ˜í‰ ê°€ìš´ë° ì •ë ¬ */
  background-color: #ffdbdb; /* ë¶ˆíˆ¬ëª…í•œ ë°°ê²½ìƒ‰ìœ¼ë¡œ ì„¤ì • */
opacity: 1; /* íˆ¬ëª…ë„ë¥¼ ì™„ì „íˆ ì—†ì• ê¸° */

    color: #000;
    padding: 10px 10px;
    border: none;
  cursor: pointer;
    font-weight: bold;
    border-radius: 5px;
    font-size: 15px; /* ì›í•˜ëŠ” ê¸€ì”¨ í¬ê¸°ë¡œ ì¡°ì ˆí•©ë‹ˆë‹¤. */
}
.close:hover {
    background-color: #ffdbdb; /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ìƒíƒœì¼ ë•Œë„ ë°°ê²½ìƒ‰ì„ ì›ë˜ ìƒ‰ìœ¼ë¡œ ìœ ì§€ */
    color: #000; /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ìƒíƒœì¼ ë•Œë„ ê¸€ììƒ‰ì„ ì›ë˜ ìƒ‰ìœ¼ë¡œ ìœ ì§€ */
}

        
    .start-image {
        max-width: 100%; /* ì´ë¯¸ì§€ì˜ ìµœëŒ€ ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì •í•˜ì—¬ ë¶€ëª¨ ìš”ì†Œì— ë§ê²Œ ì¡°ì ˆ */
        height: auto; /* ì´ë¯¸ì§€ì˜ ë†’ì´ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì ˆí•˜ì—¬ ê°€ë¡œì„¸ë¡œ ë¹„ìœ¨ ìœ ì§€ */
        display: block; /* ì´ë¯¸ì§€ë¥¼ ë¸”ë¡ ìš”ì†Œë¡œ í‘œì‹œí•˜ì—¬ ìœ„ì•„ë˜ ì—¬ë°±ì„ ìƒì„± */
        margin: 0 auto 10px; /* ì´ë¯¸ì§€ ì•„ë˜ì— 20px ì—¬ë°±ì„ ì¶”ê°€í•˜ê³  ìˆ˜í‰ ê°€ìš´ë° ì •ë ¬ */
    }

        .quiz-container {
            display: none;
        }

        /* ê°ê´€ì‹ ë²„íŠ¼ì˜ ìŠ¤íƒ€ì¼ */
  .quiz-container button {
  width: 100%;
  max-width: 500px;
  margin: 10px auto;
  display: block;
}
.start-button {
  background-color: #fff372;
  color: black;
  padding: 14px 24px;
  border: none;
  font-size: 17px;
  font-weight: 400;
  width: 100%;
  max-width: 280px;       /* âœ… ë„ˆë¬´ ê¸¸ì§€ ì•Šë„ë¡ ì œí•œ */
  display: block;
  margin: 0 auto;
  border-radius: 30px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  transition: all 0.2s ease-in-out;
}
.start-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
/* ì§ˆë¬¸ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ë§ */

.question-button {
  width: 100%;
  max-width: 500px;
  padding: 16px 24px;
  font-size: clamp(14px, 2.5vw, 18px);
  font-weight: 400;
  background-color: #fff372;
  border: none;
  border-radius: 30px;
  margin: 10px auto;
   font-size: 16px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: clip;
  word-break: keep-all;
  text-align: center;
  box-sizing: border-box;
}
.question-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

#quiz-box { margin-top: 10px; }
#options { display: flex; flex-direction: column; align-items: center; }


.result-button {
    background-color: #fff478 !important;
    color: black !important;
    border: 1px solid #000 !important;
    height: 50px;
    width: 100%;
    max-width: 350px;
    font-size: 18px;
    font-weight: 400;
    border-radius: 30px;
    margin: 6px auto;
    display: block;
}
.btn {
  border-radius: 30px !important;
  background-color: #fff478 !important;
  border: none !important;
  color: black !important;
}


        #result-image {
          width: 500px;
    height: 900px;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
        }

/* ì›í†µí˜•, í…Œë‘ë¦¬/ê·¸ë¦¼ì ì—†ìŒ, ë‚´ë¶€ íˆ¬ëª… */
.progress-container {
    width: 100%;
    height: 20px;
    background: transparent;
    border: none;
    border-radius: 50px;
    overflow: hidden;
    position: relative;
    display: none;
    margin-bottom: 20px;
    box-shadow: none !important;
    filter: none !important;
}

/* ì±„ì›Œì§€ëŠ” ë¶€ë¶„: ì—°ë¶„í™/ì—°ë…¸ë‘ 'ëŒ€ê°ì„ ' ì¤„ë¬´ëŠ¬ */
.progress-bar {
    width: 0;
    height: 100%;
    position: absolute;
    left: 0; top: 0;
    border: none;
    border-radius: 50px;
    background: repeating-linear-gradient(
        45deg,        /* âœ… ëŒ€ê°ì„  ìŠ¤íŠ¸ë¼ì´í”„ */
        #ffb6c1 0px,
        #ffb6c1 12px,
        #fff59d 12px,
        #fff59d 24px
    );
    transition: width 0.3s ease;
    box-shadow: none !important;
    filter: none !important;
}


        .coupang_ad {
    width: 320px;
    margin: 0 auto;
}
    @media (max-width: 768px) {
    .main-nav {
        font-size: 0.95rem; /* âœ… ê¸€ì”¨ë§Œ ì‘ì•„ì§€ê²Œ */
    }
}

    </style>
</head>
<body>
    <!-- body íƒœê·¸ style background-color ì§€ì •ìœ¼ë¡œ ë°°ê²½ìƒ‰ ë³€ê²½-->
<body class="container" style="background-color:#ffffff">
            
    <header class="page-header wrapper">
        <h1><a href="index.html"><img class="logo" src="img_logo.png" alt="test it"></a>
        </h1>
    <nav>
        <u1 class="main-nav">
            <li> <a href="https://test-it.co.kr/test.html">ì„±ê²©</a></li>
            <li> <a href="https://test-it.co.kr/face.html">ì–¼êµ´</a></li>
            <li> <a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a></li>
            <li> <a href="https://test-it.co.kr/saju.html">ì‚¬ì£¼</a></li>
        </u1>
    </nav>
        
        
    </header>

    
<!-- body íƒœê·¸ style background-color ì§€ì •ìœ¼ë¡œ ë°°ê²½ìƒ‰ ë³€ê²½-->
<body class="container" style="background-color:#fed7e0">

<div>
    <img src="img_main332.png" alt="ì‹œì‘ ì´ë¯¸ì§€" class="start-image mt-3" width="500">
    <button onclick="startQuiz()" class="start-button mt-3">ì‹œì‘í•˜ê¸°</button>
</div>
    <!-- í”„ë¡œê·¸ë˜ìŠ¤ ë°” -->
    <div class="progress-container" id="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>


<!-- ë™ì  ë Œë”ìš© í€´ì¦ˆ ë°•ìŠ¤ -->
<div id="quiz-box" style="display:none;">
  <p><img id="q-image" src="" alt="ë¬¸í•­ ì´ë¯¸ì§€" class="start-image" width="500"></p>
  <div id="options"></div>
</div>


<div id="result-container" style="display: none; text-align: center;">
    <p id="result-text"></p>
    <img id="result-image" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€" width="500">
    <div style="margin-top: 10px;">
<!-- ê²°ê³¼ ë²„íŠ¼ ê·¸ë£¹ì„ flex columnìœ¼ë¡œ ë¬¶ì–´ì¤Œ -->
<div class="result-buttons" style="display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 10px;">
  <button type="button" class="btn btn-info"
      onclick="location.href='test332.html'"
      style="color: black; background-color: rgb(255, 244, 120); border: none; width: 100%; max-width: 350px; height: 50px;">
      ë‹¤ì‹œ í•´ë³´ê¸°
  </button>

  <button type="button" class="btn btn-info"
      onclick="location.href='/'"
      style="color: black; background-color: rgb(255, 244, 120); border: none; width: 100%; max-width: 350px; height: 50px;">
      ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°
  </button>
<button id="share-btn" type="button" class="btn btn-info"
        style="color: black; background-color: rgb(255, 244, 120); border: none; width: 100%; max-width: 350px; height: 50px;">
  í…ŒìŠ¤íŠ¸ ê³µìœ í•˜ê¸°
</button>
</div>
</div>
</div>

<script>
/* =========================
   3ì§€ì„ ë‹¤ + ë™ì  íƒ€ì´ë¸Œë ˆì´ì»¤ ë²„ì „
   ì¹´í…Œê³ ë¦¬: ë§¤ëˆ(SMOOTH) / í‰í‰(FLAT) / ìš¸í‰(ROUGH)
   ========================= */

const CAT = {
  SMOOTH: "ë§¤ëˆë§¤ëˆí•œ ì„±ê²©",
  FLAT:   "í‰í‰í•œ ì„±ê²©",
  ROUGH:  "ìš¸í‰ë¶ˆí‰í•œ ì„±ê²©",
};

let scores = { SMOOTH: 0, FLAT: 0, ROUGH: 0 };
let currentIndex = 0;
let needTiebreaker = false;
let totalQuestions = 10; // ê¸°ë³¸ 10ë¬¸í•­
let answered = 0;        // ì§„í–‰ë°” ê³„ì‚°ìš©

// ì§ˆë¬¸ ë°ì´í„° (ì´ë¯¸ì§€ íŒŒì¼ëª…ì€ ê¸°ì¡´ q1_332.png ~ q10_332.png ê·¸ëŒ€ë¡œ ì‚¬ìš©)
const questions = [
  {
    img: "q1_332.png",
    options: [
      { text: "ì¹œêµ¬ê°€ ê±±ì •ë¼ì„œ ì§„ì§€í•˜ê²Œ ë“¤ì–´ì¤€ë‹¤", cat: "SMOOTH" },
      { text: "ë¬´ìŠ¨ ì¼ ìˆì—ˆì–´? ê¶ê¸ˆí•´í•œë‹¤", cat: "FLAT" },
      { text: "ë‚˜ë„ í˜ë“ ë°..ë¼ëŠ” ìƒê°ì´ ë¨¼ì €ë“ ë‹¤", cat: "ROUGH" },
    ],
  },
  {
    img: "q2_332.png",
    options: [
      { text: "ë‚˜í•œí…Œ ë¶€íƒí•˜ëŠ” ê²Œ ì‹«ë‹¤", cat: "ROUGH" },
      { text: "ê°€ëŠ¥í•˜ë©´ ë“¤ì–´ì£¼ê³  ì•ˆë˜ë©´ ê±°ì ˆí•œë‹¤", cat: "FLAT" },
      { text: "ìµœëŒ€í•œ ë“¤ì–´ì£¼ë ¤ê³  ë…¸ë ¥í•œë‹¤", cat: "SMOOTH" },
    ],
  },
  {
    img: "q3_332.png",
    options: [
      { text: "ì†ìœ¼ë¡œëŠ” ì¡°ê¸ˆ ì”ì“¸í•˜ë‹¤", cat: "FLAT" },
      { text: "ë‹¤ë¥¸ ì˜ê²¬ì´ ë” ì¢‹ì•˜ë‚˜ ë³´ë„¤ ì‹¶ë‹¤", cat: "SMOOTH" },
      { text: "ë°”ë¡œ ë°˜ë°•í•˜ê±°ë‚˜ ì†ìœ¼ë¡œ ì‚ì§„ë‹¤", cat: "ROUGH" },
    ],
  },
  {
    img: "q4_332.png",
    options: [
      { text: "ëˆˆì— ë„ê²Œ í‘œì •ì´ êµ³ëŠ”ë‹¤", cat: "ROUGH" },
      { text: "ì¥ë‚œì´ë‹ˆê¹Œ ì›ƒì–´ë„˜ê¸´ë‹¤", cat: "FLAT" },
      { text: "ì›ƒìœ¼ë©´ì„œ ê°™ì´ ì¥ë‚œì¹œë‹¤", cat: "SMOOTH" },
    ],
  },
  {
    img: "q5_332.png",
    options: [
      { text: "ë°”ë¡œ ì‚¬ê³¼í•˜ê³  ìˆ˜ìŠµí•œë‹¤", cat: "SMOOTH" },
      { text: "ê·¸ëƒ¥ ì¡°ìš©íˆ ìƒí™©ì„ ì •ë¦¬í•œë‹¤", cat: "FLAT" },
      { text: "ì˜ëª»í•œ ê±° ì•Œì§€ë§Œ ì§œì¦ ë‚œë‹¤", cat: "ROUGH" },
    ],
  },
  {
    img: "q6_332.png",
    options: [
      { text: "ê´œì°®ì•„~ ê·¸ëŸ° ë‚ ë„ ìˆì§€", cat: "SMOOTH" },
      { text: "ì¡°ê¸ˆ ì„­ì„­í•˜ê¸´ í•˜ë„¤", cat: "FLAT" },
      { text: "ì¹œí•˜ë©´ì„œ ì–´ë–»ê²Œ ë‚´ ê¸°ë¶„ë„ ëª¨ë¥´ëƒ", cat: "ROUGH" },
    ],
  },
  {
    img: "q7_332.png",
    options: [
      { text: "ë„¤ ì•Œê² ìŠµë‹ˆë‹¤", cat: "FLAT" },
      { text: "ìˆœê°„ ê¸°ë¶„ì´ ìƒí•´ì„œ ì•„ë¬´ ë§ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤", cat: "ROUGH" },
      { text: "ê°ì‚¬í•©ë‹ˆë‹¤ ë‹¤ìŒì—” ì¡°ì‹¬í• ê²Œìš”", cat: "SMOOTH" },
    ],
  },
  {
    img: "q8_332.png",
    options: [
      { text: "ìˆœê°„ ê¸°ë¶„ì´ í™• ì‹ëŠ”ë‹¤", cat: "ROUGH" },
      { text: "ê·¸ëŸ´ ìˆ˜ë„ ìˆì§€ í•˜ê³  ë„˜ê¸´ë‹¤", cat: "FLAT" },
      { text: "ì•„ ê·¸ë˜? ë‚˜ëŠ” ë˜ê²Œ ì¢‹ë˜ë°! ë¼ê³  í•œë‹¤", cat: "SMOOTH" },
    ],
  },
  {
    img: "q9_332.png",
    options: [
      { text: "ì™€ ëŒ€ë‹¨í•˜ë‹¤ ë°°ìš°ê³  ì‹¶ë‹¤", cat: "SMOOTH" },
      { text: "ë‚˜ë„ ë…¸ë ¥í•´ì•¼ê² ë‹¤", cat: "FLAT" },
      { text: "ì•Œ ìˆ˜ ì—†ëŠ” ì§œì¦ì´ ì˜¬ë¼ì˜¨ë‹¤", cat: "ROUGH" },
    ],
  },
  {
    img: "q10_332.png",
    options: [
      { text: "ë‚´ ë…¸ë ¥ì„ ì™œ ì•„ë¬´ë„ ëª°ë¼ì£¼ì§€?", cat: "ROUGH" },
      { text: "ì¡°ê¸ˆ í—ˆë¬´í•˜ì§€ë§Œ ê¸ˆë°© ìŠëŠ”ë‹¤", cat: "FLAT" },
      { text: "ë­ ì–´ë•Œ ë‚´ê°€ ì•Œê³  ìˆìœ¼ë©´ ëì§€", cat: "SMOOTH" },
    ],
  },
];

// ë™ì  íƒ€ì´ë¸Œë ˆì´ì»¤ ì§ˆë¬¸ (ê¸°ì¡´ ì§ˆë¬¸ê³¼ ë™ì¼í•œ í‹€)
const tiebreaker = {
  img: "q_tb_332.png",
  optionsByCat: (cats) => cats.map((c) => {
    if (c === "SMOOTH") return { text: "ì´ë”°ê°€ ë‹¤ì‹œ ë§í•´ì•¼ì§€", cat: "SMOOTH" };
    if (c === "FLAT")   return { text: "ë§ì´ ëŠê¸´ ê±¸ ëŠë¼ì§€ë§Œ ê·¸ëƒ¥ ë“£ëŠ”ë‹¤", cat: "FLAT" };
    return { text: "ëê¹Œì§€ ì¢€ ë“£ê³  ë§í•˜ì§€.. ì§œì¦ì´ ë‚œë‹¤", cat: "ROUGH" }; // c === "ROUGH"
  }),
};
/* ---------- ê¸°ì¡´ ìš”ì†Œ ì°¸ì¡° ---------- */
let currentQuestion = 0;
const startBtn = document.querySelector(".start-button");
const startImg = document.querySelector(".start-image");
const progressContainer = document.getElementById("progress-container");
const progressBar = document.getElementById("progress-bar");
const quizBox = document.getElementById("quiz-box");
const qImage = document.getElementById("q-image");
const optionsHost = document.getElementById("options");

const resultContainer = document.getElementById("result-container");
const resultImage = document.getElementById("result-image");
const resultText = document.getElementById("result-text");

/* ---------- ì‹œì‘ ---------- */
function startQuiz() {
  // ì‹œì‘ UI ìˆ¨ê¹€
  if (startBtn) startBtn.style.display = "none";
  if (startImg) startImg.style.display = "none";

  // ì§„í–‰ë°”/í€´ì¦ˆ ë°•ìŠ¤ í‘œì‹œ
  progressContainer.style.display = "block";
  quizBox.style.display = "block";

  currentIndex = 0;
  scores = { SMOOTH: 0, FLAT: 0, ROUGH: 0 };
  answered = 0;
  needTiebreaker = false;
  totalQuestions = questions.length;

  renderQuestion();
  updateProgressBar();
}

/* ---------- ì§ˆë¬¸ ë Œë” ---------- */
function renderQuestion() {
  const isTB = needTiebreaker && currentIndex >= questions.length;
  optionsHost.innerHTML = "";

  if (!isTB) {
    const q = questions[currentIndex];
    qImage.src = q.img;
    q.options.forEach((opt) => {
      const btn = createOptionButton(opt.text, () => pick(opt.cat));
      optionsHost.appendChild(btn);
    });
  } else {
    // âœ… ë™ì  ë‚œ ì¹´í…Œê³ ë¦¬ë§Œ ë³´ê¸°ë¡œ ë…¸ì¶œ
    const tied = getTopTiedCats();           // ["SMOOTH","FLAT"] ê°™ì€ í˜•íƒœ
    qImage.src = tiebreaker.img;
    tiebreaker.optionsByCat(tied).forEach((opt) => {
      const btn = createOptionButton(opt.text, () => pick(opt.cat, true));
      optionsHost.appendChild(btn);
    });
  }
}


// ì„ íƒì§€ ë²„íŠ¼ ìƒì„± ìœ í‹¸
function createOptionButton(text, onClick) {
  const btn = document.createElement("button");
  btn.type = "button";
  btn.className = "question-button";
  btn.textContent = text;
  btn.addEventListener("click", onClick);
  return btn;
}

/* ---------- ë‹µë³€ ì²˜ë¦¬ ---------- */
function pick(cat, isTB = false) {
  // ì ìˆ˜ ë°˜ì˜
  scores[cat]++;

  answered++;
  updateProgressBar();

  if (!isTB) {
    currentIndex++;
    // ëª¨ë“  ê¸°ë³¸ ë¬¸í•­ ì¢…ë£Œ ì‹œ ë™ì  ì²´í¬
    if (currentIndex >= questions.length) {
      const tied = getTopTiedCats();
      if (tied.length >= 2) {
        needTiebreaker = true;
        totalQuestions = questions.length + 1; // íƒ€ì´ë¸Œë ˆì´ì»¤ 1ë¬¸í•­ ì¶”ê°€
        renderQuestion();
        return;
      } else {
        // ë™ì  ì•„ë‹ˆë©´ ê³§ë°”ë¡œ ê²°ê³¼
        showResult();
        return;
      }
    }
    renderQuestion();
  } else {
    // íƒ€ì´ë¸Œë ˆì´ì»¤ ë‹µë³€ í›„ ê²°ê³¼
    showResult();
  }
}

/* ---------- ë™ì  ê·¸ë£¹ ---------- */
function getTopTiedCats() {
  const arr = [
    { k: "SMOOTH", v: scores.SMOOTH },
    { k: "FLAT", v: scores.FLAT },
    { k: "ROUGH", v: scores.ROUGH },
  ];
  arr.sort((a, b) => b.v - a.v);
  const top = arr[0].v;
  return arr.filter((x) => x.v === top).map((x) => x.k);
}

/* ---------- ì§„í–‰ë°” ---------- */
function updateProgressBar() {
  const progress = (answered / totalQuestions) * 100;
  progressBar.style.width = progress + "%";
}

/* ---------- ê²°ê³¼ ---------- */
function showResult() {
  quizBox.style.display = "none";
  progressContainer.style.display = "none";

  const finalCat = getTopTiedCats()[0];
  let imgSrc = "img332_flat.png";
  if (finalCat === "SMOOTH") imgSrc = "img332_smooth.png";
  if (finalCat === "ROUGH") imgSrc = "img332_rough.png";
  resultImage.src = imgSrc;

  // âœ… ê²°ê³¼ ì„¹ì…˜ ë³´ì´ê¸° (ì´ ì¤„ì´ ì¤‘ìš”!)
  resultContainer.style.display = "block";
}


/* ---------- ê³µìœ  ë²„íŠ¼ ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€ ---------- */
document.addEventListener("DOMContentLoaded", function () {
  const shareButton = document.getElementById("share-btn");
  if (shareButton) {
    shareButton.addEventListener("click", function () {
      const testURL = "https://test-it.co.kr/test332";
      const shareText = "â¤ï¸â€ğŸ”¥í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸ í•´ë´!âœ¨";
      if (navigator.share) {
        navigator
          .share({
            title: "í…ŒìŠ¤íŠ¸ì‡ ë§¤ëˆë§¤ëˆí•œ ì„±ê²© í…ŒìŠ¤íŠ¸",
            text: shareText,
            url: testURL,
          })
          .catch(() => {});
      } else {
        navigator.clipboard
          .writeText(`${shareText} ${testURL}`)
          .then(() => alert("ğŸ“Œ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì¹œêµ¬ë“¤ì—ê²Œ ê³µìœ í•´ë³´ì„¸ìš”."))
          .catch(() => {});
      }
    });
  }
});

</script>
<div class="coupang_ad" id="coupang_global" style="width:350px; margin:16px auto;"></div>


<script>
document.addEventListener('DOMContentLoaded', function () {
  function init() {
    try {
      new PartnersCoupang.G({
        id: 798186,
        template: "carousel",
        trackingCode: "AF4391881",
        width: "350",
        height: "140",
        tsource: ""
      });
    } catch (e) {
      setTimeout(init, 200); // g.js ë¡œë“œ ì§€ì—° ëŒ€ë¹„
    }
  }
  init();
});
</script>
</body>
</html>
