

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>í…ŒìŠ¤íŠ¸ì‡ ì—ë‹ˆì–´ê·¸ë¨ ì„±ê²© í…ŒìŠ¤íŠ¸</title>
    <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ì—ë‹ˆì–´ê·¸ë¨ ì„±ê²© í…ŒìŠ¤íŠ¸">
<meta name="keywords" content="í…ŒìŠ¤íŠ¸ì‡,ì„±ê²©í…ŒìŠ¤íŠ¸,ì—ë‹ˆì–´ê·¸ë¨í…ŒìŠ¤íŠ¸,ì—ë‹ˆì–´ê·¸ë¨ì„±ê²©í…ŒìŠ¤íŠ¸,í…ŒìŠ¤íŠ¸ì‡ì—°ì• ,í…ŒìŠ¤íŠ¸ì‡ì—ë‹ˆì–´ê·¸ë¨ì„±ê²©,ì—ë‹ˆì–´ê·¸ë¨í…ŒìŠ¤íŠ¸ê²°ê³¼,ì—°ì• í…ŒìŠ¤íŠ¸,ì—°ì• mbti,ì—°ì• ì„±ê²©í…ŒìŠ¤íŠ¸, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, mbtií…ŒìŠ¤íŠ¸">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ì—ë‹ˆì–´ê·¸ë¨ ì„±ê²© í…ŒìŠ¤íŠ¸">
    <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ì—ë‹ˆì–´ê·¸ë¨ ì„±ê²© í…ŒìŠ¤íŠ¸">
    <meta property="og:image" content="img_main254.png">
    <meta property="og:url" content="https://test-it.co.kr/test254">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">



    <style>

@font-face {
    font-family: 'ChosunGu';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    

        body {
            font-family: 'ChosunGu', sans-serif;
            text-align: center;
            background-color: #fff3f7;
            margin: 0;
            padding: 0;
        }


        .logo {
    width: 100px;
    margin-top: 14px;
}

.main-nav {
    display: flex;
    font-size: 1.25rem;
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
}

.main-nav li {
    margin-left: 36px;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
    color: #432;
}

.main-nav a{
    color: #432;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
}

.main-nav a:hover {
    color: #0bd;
}


.page-header {
    display: flex;
    justify-content: space-between;
}
#question-text,#extra-question-text {
    font-size: 18px;  /* ê¸€ì”¨ í¬ê¸° í‚¤ìš°ê¸° */
    font-weight: bold; /* ê¸€ì”¨ êµµê²Œ */
    text-align: center;
    margin-bottom: 30px; /* ë²„íŠ¼ê³¼ ê°„ê²© ë²Œë¦¬ê¸° */
}

.custom-jelly-button {
    background: linear-gradient(90deg, #ffc7de, #ffc7de); /* ìƒ‰ìƒ ë³€ê²½ ê°€ëŠ¥ */
    color: rgb(0, 0, 0);
    font-size: 18px; /* ê¸€ì í¬ê¸° ì¡°ì • */
    font-weight: bold;
    width: 60%; /* ë²„íŠ¼ í¬ê¸° ì¡°ì • */
    max-width: 300px; /* ìµœëŒ€ í¬ê¸° ì œí•œ */
    padding: 12px; /* ë²„íŠ¼ ë†’ì´ ì¡°ì • */
    border-radius: 30px; /* ë²„íŠ¼ ëª¨ì–‘ ë‘¥ê¸€ê²Œ */
    display: block;
    margin: 15px auto; /* ë²„íŠ¼ ê°„ê²© ì¡°ì • */
    text-align: center;
    transition: all 0.2s ease-in-out;
}

.custom-jelly-button:hover {
    transform: scale(1.05); /* hover íš¨ê³¼ */
}

        .container {
            width: 90%;
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(255, 136, 170, 0.3);
            border: 5px solid #ffccd5;
            transition: all 0.3s ease-in-out;
        }
        .container:hover {
            transform: scale(1.02);
        }
        #progress-bar {
            width: 100%;
            background: #ffe0e9;
            border-radius: 10px;
            height: 12px;
            margin: 20px 0;
        }
        #progress {
            height: 12px;
            width: 0%;
            background: linear-gradient(90deg, #ff9aa2, #ffb7b2);
            border-radius: 10px;
            transition: width 0.3s ease-in-out;
        }
        .btn {
    display: block;
    width: 60%;  /* ë²„íŠ¼ ë„ˆë¹„ ë” ì¤„ì´ê¸° */
    max-width: 350px; /* ìµœëŒ€ í¬ê¸° ì œí•œ */
    padding: 10px; /* ë²„íŠ¼ ë†’ì´ ì¤„ì´ê¸° */
    margin: 10px auto; /* ìë™ ì •ë ¬ë¡œ ê°€ìš´ë° ë°°ì¹˜ */
    border: none;
    border-radius: 25px; /* ë‘¥ê·¼ ì •ë„ ì ë‹¹íˆ ì¡°ì • */
    cursor: pointer;
    font-size: 16px; /* ê¸€ì í¬ê¸° ì¤„ì´ê¸° */
    font-weight: bold;
    transition: all 0.2s ease-in-out;
    text-align: center; /* í…ìŠ¤íŠ¸ ì •ë ¬ */
}
        .btn-a { background: linear-gradient(90deg, #ffd7d4, #ffd7d4);
             color: rgb(0, 0, 0); 
            min-height: 100px;
            width: 60%; /* ë²„íŠ¼ ë„ˆë¹„ ì¤„ì´ê¸° */
            max-width: 350px; /* ìµœëŒ€ í¬ê¸° ì œí•œ */
            margin: 15px auto; /* ë²„íŠ¼ë§ˆë‹¤ ìë™ ê°€ìš´ë° ì •ë ¬ */
        }
        .btn-b { background: linear-gradient(90deg, #fff9aa, #fff9aa); color: rgb(0, 0, 0); 
            min-height: 100px;
            width: 60%; /* ë²„íŠ¼ ë„ˆë¹„ ì¤„ì´ê¸° */
            max-width: 350px; /* ìµœëŒ€ í¬ê¸° ì œí•œ */
            margin: 15px auto; /* ë²„íŠ¼ë§ˆë‹¤ ìë™ ê°€ìš´ë° ì •ë ¬ */
        }
        .btn-start { background: linear-gradient(90deg, #ffb7b2, #ffb7b2); 
            color: rgb(0, 0, 0); 
            padding: 12px; 
            font-size: 18px; 
            border-radius: 30px; }
        .btn:hover { transform: scale(1.03); /* hover íš¨ê³¼ ì¡°ê¸ˆ ì¤„ì´ê¸° */ }
        .btn:active { transform: scale(0.95); }
        #result img {
    width: 100%;  /* ì»¨í…Œì´ë„ˆì— ë§ì¶° ì´ë¯¸ì§€ í¬ê¸° ì¡°ì • */
    max-width: 500px; /* í•„ìš”ì— ë”°ë¼ ì¡°ì • */
    height: auto;
    margin-top: 20px;
    border-radius: 20px;
}
        .hidden { display: none; }
    </style>
</head>

    <!-- âœ… ê³ ì • í—¤ë” ì¶”ê°€ -->
    <header class="page-header wrapper" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: white;
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
    padding: 10px 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 70px;
">

    <!-- âœ… ë¡œê³ : flex ì»¨í…Œì´ë„ˆë¡œ ë§Œë“¤ì–´ ì •ë ¬ ë§ì¶”ê¸° -->
    <h1 style="margin: 0; display: flex; align-items: center; height: 100%;">
        <a href="index.html">
            <img class="logo" src="img_logo.png" alt="test it" style="width: 100px; height: auto;">
        </a>
    </h1>

    <!-- âœ… ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´: flex ì •ë ¬ ìœ ì§€ -->
    <nav style="display: flex; align-items: center; height: 100%;">
        <ul class="main-nav" style="
            display: flex;
            align-items: center;
            padding: 0;
            margin: 0;
            list-style: none;
        ">
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/test.html">ì„±ê²©</a>
            </li>
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/face.html">ì–¼êµ´</a>
            </li>
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a>
            </li>
        </ul>
    </nav>

</header>

<!-- âœ… í—¤ë”ì™€ ì»¨í…ì¸  ê°„ ê°„ê²© ìœ ì§€ -->
<body style="background-color:#ffffff; padding-top: 80px;">

    <!-- âœ… ê¸°ì¡´ ì»¨í…ì¸  (í—¤ë” ë°”ê¹¥) -->
<div class="container" id="main-page">
    <h1>ì—ë‹ˆì–´ê·¸ë¨ í…ŒìŠ¤íŠ¸</h1>
    <img src="img_main254.png" alt="ë©”ì¸ ì´ë¯¸ì§€" style="width:100%; border-radius:10px;">
    <button class="btn btn-start" onclick="startTest()">ì‹œì‘í•˜ê¸°</button>
</div>

<div class="container hidden" id="quiz-page">
    <div id="progress-bar"><div id="progress"></div></div>
    <p id="question-text"></p>
    <button class="btn btn-a" onclick="selectAnswer('A')"></button>
    <button class="btn btn-b" onclick="selectAnswer('B')"></button>
</div>

<div class="container hidden" id="extra-quiz-page">
    <p id="extra-question-text"></p>
    <button class="btn btn-a" onclick="selectExtraAnswer('A')"></button>
    <button class="btn btn-b" onclick="selectExtraAnswer('B')"></button>
</div>

<div class="container hidden" id="result">
    <p id="result-text"></p>
    <img id="result-image" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€">
    
    <!-- ğŸ”¥ ë²„íŠ¼ ì¶”ê°€ -->
    <button type="button" class="btn btn-info mt-3 custom-jelly-button" 
        onclick="location.href='test254.html'" 
        style="font-size:large; font-weight: bold;">
        ë‹¤ì‹œ í•´ë³´ê¸°
    </button> 
    <button type="button" class="btn btn-info mt-3 custom-jelly-button" 
        onclick="location.href='/'" 
        style="font-size:large; font-weight: bold;">
        ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°
    </button>
</div>

<script>

    // âœ… 1. ë©”ì¸ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ (ê¸°ë³¸ 14ê°œ ì§ˆë¬¸)
 let questions = [
        { text: "íŒ€í”Œí•  ë•Œ ë„¤ ìŠ¤íƒ€ì¼ì€?", A: { text: "ë‚´ê°€ ì£¼ë„í•´ì„œ ì™„ë²½í•˜ê²Œ!", type: "1" }, B: { text: "ì„œë¡œ ì¡°ìœ¨í•˜ë©´ì„œ í‰í™”ë¡­ê²Œ!", type: "9" } },
        { text: "SNSì— ì‚¬ì§„ì„ ì˜¬ë¦´ ë•Œ ê³ ë¯¼í•˜ëŠ” ê±´?", A: { text: "ë©‹ìˆì–´ ë³´ì´ë‚˜?", type: "3" }, B: { text: "ì‚¬ëŒë“¤ì´ ì¢‹ì•„í• ê¹Œ?", type: "4" } },
        { text: "ì¹œêµ¬ê°€ ê¸‰í•˜ê²Œ ë„ì™€ë‹¬ë¼ê³  í•˜ë©´?", A: { text: "ë„ì™€ì¤˜ì•¼ì§€!", type: "2" }, B: { text: "ì¼ë‹¨ ë‚´ í•  ì¼ë¶€í„°!", type: "5" } },
        { text: "ê¸¸ ê°€ë‹¤ê°€ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ë„ì›€ ìš”ì²­í•˜ë©´?", A: { text: "ì¼ë‹¨ ë„ì™€ì•¼ì§€!", type: "6" }, B: { text: "ì‹ ì¤‘í•˜ê²Œ íŒë‹¨ í›„!", type: "9" } },
        { text: "íŒŒí‹° ì´ˆëŒ€ë°›ì•˜ì„ ë•Œ ë°˜ì‘ì€?", A: { text: "ì™„ì „ ì‹ ë‚˜!", type: "7" }, B: { text: "ë„ˆë¬´ ì‹œë„ëŸ¬ìš¸ ë“¯", type: "5" } },
        { text: "í™”ë‚¬ì„ ë•Œ í–‰ë™ì€?", A: { text: "ë°”ë¡œ ë§í•´ì„œ í•´ê²°!", type: "8" }, B: { text: "ì°¸ë‹¤ê°€ í„°ì§", type: "2" } },
        { text: "ì‡¼í•‘í•  ë•Œ ìŠ¤íƒ€ì¼ì€?", A: { text: "ìœ í–‰ ë”°ë¼ê°!", type: "3" }, B: { text: "ì‹¤ìš©ì„±ì„ ê³ ë ¤!", type: "6" } },
        { text: "ê¸¸ì„ ìƒì—ˆì„ ë•Œ ë°˜ì‘ì€?", A: { text: "ì¼ë‹¨ ëŒì•„ë‹¤ë‹ˆë©´ì„œ ì°¾ê¸°!", type: "7" }, B: { text: "ê³„íšì ìœ¼ë¡œ ì°¾ê¸°!", type: "1" } },
        { text: "ì¹œêµ¬ê°€ ìš¸ë©´ì„œ ê³ ë¯¼ ìƒë‹´í•˜ë©´?", A: { text: "ê°ì •ì„ í•¨ê»˜ ë‚˜ëˆ”!", type: "4" }, B: { text: "í•´ê²°ì±…ì„ ì œì‹œí•¨!", type: "8" } },
        { text: "ìƒˆë¡œìš´ ì·¨ë¯¸ ì‹œì‘í•  ë•Œ ë°˜ì‘ì€?", A: { text: "í¥ë¯¸ë¡œìš°ë©´ ë°”ë¡œ í•´ë³¸ë‹¤!", type: "5" }, B: { text: "ê³„íšì„ ì„¸ì›Œì„œ ì‹œì‘!", type: "4" } },
        { text: "ì¦‰í¥ì ìœ¼ë¡œ ë²„ìŠ¤í‚¹í•˜ìê³  í•˜ë©´?", A: { text: "ì¬ë°Œì„ ê²ƒ ê°™ì•„!", type: "7" }, B: { text: "ë„ˆë¬´ ê°‘ì‘ìŠ¤ëŸ¬ì›Œì„œ ë¶€ë‹´ìŠ¤ëŸ¬ì›€", type: "6" } },
        { text: "ë„ˆí•œí…Œ ì œì¼ ì¤‘ìš”í•œ ê±´?", A: { text: "ì„±ê³µê³¼ ëª©í‘œ ë‹¬ì„±!", type: "3" }, B: { text: "ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ì˜ ê´€ê³„!", type: "2" } },
        { text: "ì–´ë–¤ í™˜ê²½ì´ ë” í¸í•´?", A: { text: "ì¡°ìš©í•œ ê²Œ ì¢‹ìŒ!", type: "9" }, B: { text: "í™œê¸°ì°¬ ê²Œ ì¢‹ìŒ!", type: "1" } },
        { text: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•Œ?", A: { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ì„!", type: "8" }, B: { text: "ê°ì •ì ìœ¼ë¡œ íŒë‹¨!", type: "9" } }
    ];

     // âœ… 3. ì ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
 let scores = { "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0 };
    let tieBreakerQueue = [];
    let currentTieBreaker = null;
    let currentQuestion = 0;



   // âœ… 2. ì¶”ê°€ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ (ë™ì  ë°œìƒ ì‹œ ì‚¬ìš©ë¨)
let extraQuestions = {
    "1vs2": { text: "ë” ì¤‘ìš”í•œ ê²ƒì€?", A: { text: "ì›ì¹™ê³¼ ì§ˆì„œ!", type: "1" }, B: { text: "ì‚¬ëŒì„ ë•ëŠ” ê²ƒ!", type: "2" } },
    "1vs3": { text: "ë” ê°€ì¹˜ ìˆëŠ” ê²ƒì€?", A: { text: "ì™„ë²½í•¨ê³¼ ì§ˆì„œ!", type: "1" }, B: { text: "ì„±ì·¨ì™€ ì„±ê³µ!", type: "3" } },
    "1vs4": { text: "ë” ì¤‘ìš”í•œ ê²ƒì€?", A: { text: "ê·œì¹™ê³¼ ì§ˆì„œ!", type: "1" }, B: { text: "ì°½ì˜ì„±ê³¼ ê°ì„±!", type: "4" } },
    "1vs5": { text: "ê²°ì •í•  ë•Œ ì¤‘ìš”í•œ ê²ƒì€?", A: { text: "ë…¼ë¦¬ì  ë¶„ì„!", type: "1" }, B: { text: "ì§€ì‹ê³¼ íƒêµ¬!", type: "5" } },
    "1vs6": { text: "ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê²ƒì€?", A: { text: "ê·œì¹™ê³¼ ì›ì¹™!", type: "1" }, B: { text: "ì•ˆì „ê³¼ ê³„íš!", type: "6" } },
    "1vs7": { text: "ë” ì¦ê±°ìš´ ê²ƒì€?", A: { text: "ê·œì¹™ì ì¸ ì‚¶!", type: "1" }, B: { text: "ìƒˆë¡œìš´ ê²½í—˜!", type: "7" } },
    "1vs8": { text: "ë¦¬ë”ì‹­ ìŠ¤íƒ€ì¼ì€?", A: { text: "ì›ì¹™ì„ ê°•ì¡°!", type: "1" }, B: { text: "ê°•í•œ ì£¼ë„ê¶Œ!", type: "8" } },
    "1vs9": { text: "ë” ì¤‘ìš”í•œ ê°€ì¹˜?", A: { text: "ì§ˆì„œì™€ ì›ì¹™!", type: "1" }, B: { text: "í‰í™”ì™€ ì¡°í™”!", type: "9" } },
    "2vs3": { text: "ë” ê°€ì¹˜ ìˆëŠ” ê²ƒì€?", A: { text: "ì‚¬ëŒì„ ë•ëŠ” ê²ƒ!", type: "2" }, B: { text: "ëª©í‘œ ë‹¬ì„±!", type: "3" } },
    "2vs4": { text: "ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?", A: { text: "ë‹¤ë¥¸ ì‚¬ëŒê³¼ì˜ ê´€ê³„!", type: "2" }, B: { text: "ë‚´ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒ!", type: "4" } },
    "2vs5": { text: "ë” ì¤‘ìš”í•œ ê²ƒì€?", A: { text: "íƒ€ì¸ì„ ë•ëŠ” ê²ƒ!", type: "2" }, B: { text: "ê¹Šì´ ìˆëŠ” íƒêµ¬!", type: "5" } },
    "2vs6": { text: "ë” ì‹ ê²½ ì“°ì´ëŠ” ê²ƒì€?", A: { text: "ì‚¬ëŒê³¼ ê°ì •!", type: "2" }, B: { text: "ì•ˆì •ê³¼ ê³„íš!", type: "6" } },
    "2vs7": { text: "ë” ì¦ê±°ìš´ ê²ƒì€?", A: { text: "ë„ì›€ì„ ì£¼ëŠ” ê²ƒ!", type: "2" }, B: { text: "ìƒˆë¡œìš´ ê²½í—˜!", type: "7" } },
    "2vs8": { text: "ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê²ƒì€?", A: { text: "ì‚¬ëŒê³¼ ê´€ê³„!", type: "2" }, B: { text: "ê°•í•œ ë¦¬ë”ì‹­!", type: "8" } },
    "2vs9": { text: "ì–´ë–¤ ì‚¬ëŒì´ ë˜ê³  ì‹¶ì€ê°€?", A: { text: "ë°°ë ¤í•˜ëŠ” ì‚¬ëŒ!", type: "2" }, B: { text: "í‰í™”ë¡œìš´ ì‚¬ëŒ!", type: "9" } },
    "3vs4": { text: "ë” ê°€ì¹˜ ìˆëŠ” ê²ƒì€?", A: { text: "ì„±ì·¨ì™€ ëª©í‘œ ë‹¬ì„±!", type: "3" }, B: { text: "ì°½ì˜ì ì¸ ìê¸° í‘œí˜„!", type: "4" } },
    "3vs5": { text: "ë” ì„ í˜¸í•˜ëŠ” ê²ƒì€?", A: { text: "ì„±ì·¨ì™€ ê²½ìŸ!", type: "3" }, B: { text: "ê¹Šì´ ìˆëŠ” íƒêµ¬!", type: "5" } },
    "3vs6": { text: "ë” ì¤‘ìš”í•œ ê²ƒì€?", A: { text: "ëª©í‘œ ë‹¬ì„±!", type: "3" }, B: { text: "ì•ˆì •ê³¼ ì‹ ë¢°!", type: "6" } },
    "3vs7": { text: "ë” ì¦ê±°ìš´ ê²ƒì€?", A: { text: "ëª©í‘œë¥¼ ì´ë£¨ëŠ” ê²ƒ!", type: "3" }, B: { text: "ë‹¤ì–‘í•œ ê²½í—˜!", type: "7" } },
    "3vs8": { text: "ë” ê°•í•œ ì„±í–¥ì€?", A: { text: "ì„±ì·¨ ì§€í–¥!", type: "3" }, B: { text: "ê°•í•œ ë¦¬ë”ì‹­!", type: "8" } },
    "3vs9": { text: "ë” ì¤‘ìš”í•œ ê°€ì¹˜?", A: { text: "ëª©í‘œì™€ ì„±ì·¨!", type: "3" }, B: { text: "ì¡°í™”ì™€ ê· í˜•!", type: "9" } },
    "6vs7": { text: "ë” ì„ í˜¸í•˜ëŠ” ê²ƒì€?", A: { text: "ì•ˆì •ì ì¸ ì‚¶!", type: "6" }, B: { text: "ë‹¤ì±„ë¡œìš´ ê²½í—˜!", type: "7" } },
    "6vs8": { text: "ë” ê°•í•œ ì„±í–¥ì€?", A: { text: "ì‹ ì¤‘í•œ ê³„íš!", type: "6" }, B: { text: "ê°•í•œ ì£¼ë„ê¶Œ!", type: "8" } },
    "6vs9": { text: "ë” ì›í•˜ëŠ” ê²ƒì€?", A: { text: "ì•ˆì •ì ì¸ ì‚¶!", type: "6" }, B: { text: "ì¡°í™”ë¡œìš´ ì‚¶!", type: "9" } },
    "7vs8": { text: "ë” ê°•í•œ ì„±í–¥ì€?", A: { text: "ììœ ë¡œìš´ ë„ì „!", type: "7" }, B: { text: "ê°•í•œ ë¦¬ë”ì‹­!", type: "8" } },
    "7vs9": { text: "ë” ì›í•˜ëŠ” ê²ƒì€?", A: { text: "ë‹¤ì–‘í•œ ê²½í—˜!", type: "7" }, B: { text: "í‰ì˜¨í•œ ì‚¶!", type: "9" } },
    "8vs9": { text: "ë” ì¤‘ìš”í•œ ê°€ì¹˜?", A: { text: "ê°•í•œ ë¦¬ë”ì‹­!", type: "8" }, B: { text: "í‰í™”ë¡œìš´ ì¡°í™”!", type: "9" } }
};

function updateProgress() {
    let progress = (currentQuestion / questions.length) * 100;
    document.getElementById("progress").style.width = progress + "%";
}

function startTest() {
    document.getElementById("main-page").classList.add("hidden");
    document.getElementById("quiz-page").classList.remove("hidden");

    currentQuestion = 0; // âœ… ì§ˆë¬¸ ë²ˆí˜¸ ì´ˆê¸°í™”
    updateProgress(); // âœ… í”„ë¡œê·¸ë˜ìŠ¤ ë°” ì´ˆê¸°í™”
    loadQuestion();
}

function loadQuestion() {
    if (currentQuestion >= questions.length) {
        checkForTie();
        return;
    }

    let q = questions[currentQuestion];
    if (!q) return;

    document.getElementById("question-text").textContent = q.text;
    document.querySelector(".btn-a").textContent = q.A.text;
    document.querySelector(".btn-b").textContent = q.B.text;
}

function selectAnswer(choice) {
    if (currentQuestion >= questions.length) {
        checkForTie();
        return;
    }

    let selectedType = questions[currentQuestion][choice]?.type;
    if (!selectedType) return;

    scores[selectedType]++;
    currentQuestion++;

    updateProgress();
    loadQuestion();
}

    function checkForTie() {
    let sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
    let highestScore = sortedScores[0][1];
    let tiedTypes = sortedScores.filter(type => type[1] === highestScore).map(type => type[0]);

    if (tiedTypes.length > 1) {
        tieBreakerQueue = tiedTypes;
        processTieBreaker();
    } else {
        let mainType = sortedScores[0] ? sortedScores[0][0] : "ì•Œ ìˆ˜ ì—†ìŒ";

        // âœ… mainTypeì˜ ê°€ëŠ¥í•œ ë‚ ê°œ(Â±1 + í™•ì¥ í•´ì„)
        let possibleWings = [String(Number(mainType) - 1), String(Number(mainType) + 1)];
        if (mainType === "1") possibleWings.push("9");
        if (mainType === "9") possibleWings.push("1");

        let wingCandidates = possibleWings.filter(w => scores[w]); // ì ìˆ˜ê°€ ìˆëŠ” ë‚ ê°œë§Œ ë‚¨ê¹€

        let wingType = wingCandidates.length > 0 ? 
            wingCandidates.sort((a, b) => scores[b] - scores[a])[0] : 
            ""; // ë‚ ê°œê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´

        showResult(mainType, wingType);
    }
}





    function processTieBreaker() {
    if (tieBreakerQueue.length > 1) {
        let type1 = tieBreakerQueue.shift();
        let type2 = tieBreakerQueue[0];

        let tieKey = `${type1}vs${type2}`;
        let reverseTieKey = `${type2}vs${type1}`;
        let selectedQuestion = extraQuestions[tieKey] || extraQuestions[reverseTieKey];

        if (selectedQuestion) {
            currentTieBreaker = selectedQuestion;

            document.getElementById("quiz-page").classList.add("hidden");
            document.getElementById("extra-quiz-page").classList.remove("hidden");

            // âœ… ë””ë²„ê¹…ìš© ì½˜ì†” ë¡œê·¸ ì¶”ê°€
            console.log("í˜„ì¬ ì¶”ê°€ ì§ˆë¬¸:", currentTieBreaker);

            // âœ… ì¶”ê°€ ì§ˆë¬¸ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •
            let questionTextElement = document.getElementById("extra-question-text");
            if (currentTieBreaker && currentTieBreaker.text) {
                questionTextElement.textContent = currentTieBreaker.text;
            } else {
                questionTextElement.textContent = "ì¶”ê°€ ì§ˆë¬¸ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
            }

            // âœ… ë²„íŠ¼ í…ìŠ¤íŠ¸ ì •ìƒì ìœ¼ë¡œ í‘œì‹œ
            let btnA = document.querySelector("#extra-quiz-page .btn-a");
            let btnB = document.querySelector("#extra-quiz-page .btn-b");

            if (currentTieBreaker.A && currentTieBreaker.B) {
                btnA.textContent = currentTieBreaker.A.text;
                btnB.textContent = currentTieBreaker.B.text;
            } else {
                btnA.textContent = "ì„ íƒì§€ ì—†ìŒ";
                btnB.textContent = "ì„ íƒì§€ ì—†ìŒ";
            }
        } else {
            showResult(type1, type2);
        }
    }
}

    // âœ… selectExtraAnswer() í•¨ìˆ˜ ìˆ˜ì • (ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ë„ë¡)
    function selectExtraAnswer(choice) {
    if (!currentTieBreaker) {
        console.log("currentTieBreakerê°€ nullì„! ì¶”ê°€ ì§ˆë¬¸ ì—†ìŒ");
        return;
    }

    let selectedType = choice === 'A' ? currentTieBreaker.A.type : currentTieBreaker.B.type;
    tieBreakerQueue = tieBreakerQueue.filter(type => type !== selectedType);

    if (tieBreakerQueue.length > 1) {
        processTieBreaker();
    } else {
        // âœ… ë§ˆì§€ë§‰ ë‚¨ì€ íƒ€ì…ì„ í™•ì‹¤íˆ ê°€ì ¸ì˜¤ë„ë¡ ìˆ˜ì •
        let mainType = tieBreakerQueue[0] || selectedType;
        let wingType = tieBreakerQueue[1] || mainType;
        showResult(mainType, wingType);
    }
}


function showResult(mainType, wingType) {
    // âœ… mainTypeì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì •
    if (!mainType) mainType = "ì•Œ ìˆ˜ ì—†ìŒ";

    // âœ… mainTypeì˜ ê°€ëŠ¥í•œ ë‚ ê°œ(Â±1 + í™•ì¥ í•´ì„)
    let possibleWings = [String(Number(mainType) - 1), String(Number(mainType) + 1)];

    // âœ… í™•ì¥ í•´ì„: 1w9, 9w1 í—ˆìš©
    if (mainType === "1") possibleWings.push("9");
    if (mainType === "9") possibleWings.push("1");

    // âœ… wingTypeì„ possibleWings ì¤‘ì—ì„œ ë” ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì€ ìˆ«ìë¡œ ì„¤ì •
    let wingCandidates = possibleWings.filter(w => scores[w]); // ê°€ëŠ¥í•œ ë‚ ê°œ ì¤‘ ì ìˆ˜ê°€ ìˆëŠ” ê²ƒë§Œ ë‚¨ê¹€
    wingType = wingCandidates.length > 0 ? 
        wingCandidates.sort((a, b) => scores[b] - scores[a])[0] : 
        ""; // ë‚ ê°œê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´

    
    // âœ… ìµœì¢… ê²°ê³¼ëª… ì„¤ì • (ë‚ ê°œê°€ ì—†ìœ¼ë©´ `9w`ì²˜ëŸ¼ ê¹”ë”í•˜ê²Œ í‘œì‹œ)
    let resultText = wingType ? `${mainType}w${wingType}` : `${mainType}w`;

    // âœ… ê²°ê³¼ ì´ë¯¸ì§€ íŒŒì¼ëª… ì„¤ì •
    let imageFileName = wingType ? `img254_${mainType}w${wingType}.jpg` : `img254_${mainType}w.jpg`;

    // âœ… í™”ë©´ì— ìµœì¢… ê²°ê³¼ í‘œì‹œ
    document.getElementById("quiz-page").classList.add("hidden");
    document.getElementById("extra-quiz-page").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
   

    // âœ… ê²°ê³¼ ì´ë¯¸ì§€ í‘œì‹œ
    document.getElementById("result-image").src = imageFileName;
    document.getElementById("result-image").alt = resultText;
}

</script>

</body>
</html>
