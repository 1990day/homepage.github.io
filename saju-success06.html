

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>
     <meta http-equiv="Content-Security-Policy" content="
     default-src 'self' https://*;
     script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*;
     style-src 'self' 'unsafe-inline' https://*;
     img-src 'self' data: https://*;
     connect-src 'self' https://*;
     frame-src 'self' https://*;
     ">
     <script src="https://nsp.pay.naver.com/sdk/js/naverpay.min.js"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>í…ŒìŠ¤íŠ¸ì‡ ì‹ ë…„ ìš´ì„¸ ë¦¬í¬íŠ¸</title>
    <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ì‹ ë…„ ìš´ì„¸ ë¦¬í¬íŠ¸">
<meta name="keywords" content="í…ŒìŠ¤íŠ¸ì‡,ì‹ ë…„ìš´ì„¸,ì‹ ë…„ìš´ì„¸,í…ŒìŠ¤íŠ¸ì‡ì‚¬ì£¼,í…ŒìŠ¤íŠ¸ì‡ì‹ ë…„ìš´ì„¸,í…ŒìŠ¤íŠ¸ì‡ì‚¬ì£¼,ì •í™•í•œì‚¬ì£¼,ì—°ì• í…ŒìŠ¤íŠ¸,ì—°ì• mbti,ì—°ì• ì„±ê²©í…ŒìŠ¤íŠ¸, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, mbtií…ŒìŠ¤íŠ¸">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ì‹ ë…„ ìš´ì„¸ ë¦¬í¬íŠ¸">
    <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ì‹ ë…„ ìš´ì„¸ ë¦¬í¬íŠ¸">
    <meta property="og:image" content="saju_main06.png">
    <meta property="og:url" content="https://test-it.co.kr/saju06">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">



<style>

/* start íƒœê·¸ì™€ question íƒœê·¸ ëª¨ë‘ article íƒœê·¸ë¼ì„œ article íƒœê·¸ì— ì†ì„±ì„ ì£¼ë©´ ë™ì‹œì— ì ìš©ë¨
.start{
    display: flex;
    flex-direction: column;
}
*/
    
   @font-face {
    font-family: 'ChosunGu';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    
      body {
            font-family: 'ChosunGu', sans-serif;
        }
    
.logo {
    width: 100px;
    margin-top: 14px;
}

.main-nav {
    display: flex;
    font-size: 1.25rem;
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
}

.main-nav li {
    margin-left: 36px;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
    color: #432;
}

.main-nav a{
    color: #432;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
}

.main-nav a:hover {
    color: #0bd;
}


.page-header {
    display: flex;
    justify-content: space-between;
}

    
article{
    display: flex;
    flex-direction: column;
}

 


.custom-jelly-button {
    width: 100%;
    max-width: 350px;
    height: 60px;
    font-size: 15px !important;
    font-weight: bold;
    color: black !important;
    background: linear-gradient(145deg, #ffcfcf, #ffcfcf); /* ë¶„í™ê³¼ ë…¸ë‘ ê·¸ë¼ë°ì´ì…˜ */
    border: none;
    border-radius: 17px;
    box-shadow: inset -4px -4px 10px rgba(255, 255, 255, 0.7), 
                inset 4px 4px 10px rgba(0, 0, 0, 0.1),
                2px 2px 8px rgba(0, 0, 0, 0.15);
    margin: 0 auto;
    display: block;
}

.custom-jelly-button:hover {
    background: linear-gradient(145deg, #ffcfcf, #ffcfcf); /* ë°˜ëŒ€ë¡œ ê·¸ë¼ë°ì´ì…˜ */
}


.page {
            display: none;
            margin: 0 auto;
            max-width: 600px;
            padding: 20px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .active {
            display: block;
        }
        input, button {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

             /* ì„±ê³µ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ */
             .success-page {
            text-align: center;        /* ê°€ìš´ë° ì •ë ¬ */
            margin: 40px auto;        /* í˜ì´ì§€ ìœ„ì•„ë˜ ì—¬ë°±, ê°€ìš´ë° ì •ë ¬ */
            max-width: 600px;         /* í­ ì œí•œ */
            padding: 30px;            /* ì•ˆìª½ ì—¬ë°± */
            background-color: #fff;   /* ë°°ê²½ í°ìƒ‰ */
            border-radius: 15px;      /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì */
        }
        .success-title {
            font-size: 1.2rem;        /* ê¸€ì”¨ í¬ê¸° */
            font-weight: bold;        /* êµµê²Œ */
            margin-bottom: 10px;      /* ì•„ë˜ìª½ ì—¬ë°± */
        }
        .success-text {
            font-size: 1rem;          /* ë³¸ë¬¸ í¬ê¸° */
            margin-bottom: 20px;      /* ê°„ê²© */
        }
        .success-link {
            display: inline-block;    
            padding: 10px 20px;
            background-color: #ffcfcf; /* ë¶„í™ë¹› ë°°ê²½ */
            border-radius: 10px;
            text-decoration: none;      /* ë°‘ì¤„ ì œê±° */
            color: black;
            font-weight: bold;
            box-shadow: inset -4px -4px 10px rgba(255, 255, 255, 0.7),
                        inset 4px 4px 10px rgba(0, 0, 0, 0.1),
                        2px 2px 8px rgba(0, 0, 0, 0.15);
        }
        .success-link:hover {
            background: #ffbdbd;       /* hover ì‹œ ì¡°ê¸ˆ ì§„í•´ì§ */
        }
    
    .at-share-btn-elements{
        text-align: center;
    }
.share{
    margin: 0 auto;
}

.kakao_ad{
    width: 320px;
    margin: 0 auto;
}

.kakao_ad2{
    width: 320px;
    margin: 0 auto;
}
.coupang_ad {
    width: 320px;
    margin: 0 auto;
}
        .custom-button {
            width: 100%;
            max-width: 350px;
            margin: 0 auto;
        }
    

  
</style>





</head>
<!-- body íƒœê·¸ style background-color ì§€ì •ìœ¼ë¡œ ë°°ê²½ìƒ‰ ë³€ê²½-->
<body class="container" style="background-color:#ffffff">
            
    <header class="page-header wrapper">
        <h1><a href="index.html"><img class="logo" src="img_logo.png" alt="test it"></a>
        </h1>
    <nav>
        <u1 class="main-nav">
            <li> <a href="https://test-it.co.kr/test.html">ì„±ê²©</a></li>
            <li> <a href="https://test-it.co.kr/face.html">ì–¼êµ´</a></li>
            <li> <a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a></li>
            <li> <a href="https://test-it.co.kr/saju.html">ì‚¬ì£¼</a></li>
        </u1>
    </nav>
        
        
    </header>

   <!-- ì„±ê³µ í˜ì´ì§€(ê°€ìš´ë° ì •ë ¬ + ê¾¸ë©°ì£¼ê¸°) -->
   <div class="success-page">
    <h1 class="success-title">ê²°ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
    <p class="success-text">
        ì‚¬ì£¼ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. 48ì‹œê°„ ë‚´ì— ì´ë©”ì¼ë¡œ ë°œì†¡í•´ ë“œë¦´ê²Œìš”.
    </p>
    <a class="success-link" href="https://test-it.co.kr/saju06">ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
</div>
<script>
    // DOMContentLoaded ì´ë²¤íŠ¸ ë‚´ì—ì„œ í•œ ë²ˆë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤.
    document.addEventListener("DOMContentLoaded", async function () {
      const successPage = document.querySelector(".success-page");
      successPage.style.display = "none"; // ì´ˆê¸°ì—ëŠ” ì„±ê³µ í˜ì´ì§€ ìˆ¨ê¹€
  
      // URL íŒŒë¼ë¯¸í„° ì¶”ì¶œ
      const urlParams = new URLSearchParams(window.location.search);
      const paymentKey = urlParams.get("paymentKey");
      const orderId = urlParams.get("orderId");
      const amount = urlParams.get("amount");
  
      if (!paymentKey || !orderId || !amount) {
        console.error("âŒ ê²°ì œ ì •ë³´ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.");
        alert("âš ï¸ ê²°ì œ ì •ë³´ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.");
        window.location.href = "https://test-it.co.kr/payment-fail1"; // ì‹¤íŒ¨ í˜ì´ì§€ë¡œ ì´ë™
        return;
      }
  
      console.log("ğŸš€ ê²°ì œ ìŠ¹ì¸ ìš”ì²­:", { paymentKey, orderId, amount });
  
      try {
        const response = await fetch("https://api.tosspayments.com/v1/payments/confirm", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Basic " + btoa("live_gsk_DnyRpQWGrNL20vzK4mRb3Kwv1M9E:")
          },
          body: JSON.stringify({
            paymentKey: paymentKey,
            orderId: orderId,
            amount: parseInt(amount)
          })
        });
  
        const result = await response.json();
  
        if (response.ok) {
          console.log("âœ… ê²°ì œ ìŠ¹ì¸ ì„±ê³µ:", result);
          successPage.style.display = "block"; // ê²°ì œ ìŠ¹ì¸ ì„±ê³µ ì‹œ ì„±ê³µ í˜ì´ì§€ í‘œì‹œ
          alert("ğŸ‰ ê²°ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
  
          // sessionStorageì— ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ë¡œ êµ¬ê¸€ ì‹œíŠ¸ ë° ë©”ì¼ ì „ì†¡
          const userData = JSON.parse(sessionStorage.getItem("userData"));
          if (userData && userData.name) {
            sendToGoogleSheet(
              userData.name,
              userData.gender,
              userData.birth,
              userData.birthType,
              userData.time,
              userData.email,
              userData.paymentItem
            );
          }
        } else {
          console.error("âŒ ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨:", result);
          alert(`âš ï¸ ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨: ${result.message}`);
          window.location.href = "https://test-it.co.kr/payment-fail1"; // ì‹¤íŒ¨ í˜ì´ì§€ë¡œ ì´ë™
        }
      } catch (error) {
        console.error("âŒ ê²°ì œ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error);
        alert("âš ï¸ ê²°ì œ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        window.location.href = "https://test-it.co.kr/payment-fail1"; // ì‹¤íŒ¨ í˜ì´ì§€ë¡œ ì´ë™
      }
    });
  
    // sendToGoogleSheet í•¨ìˆ˜ (ì¤‘ë³µ ì •ì˜ ì œê±° í›„ í•˜ë‚˜ë§Œ ë‚¨ê¹€)
    function sendToGoogleSheet(userName, userGender, birthDate, birthType, birthTime, userEmail, paymentItem) {
      console.log("ğŸ“¤ ì „ì†¡í•  ë°ì´í„°:", userName, userGender, birthDate, birthType, birthTime, userEmail, paymentItem);
      fetch("https://script.google.com/macros/s/AKfycbxeygKA3IQgZJaLoCzeBftoPxEXRYSU0LCE4ddeUacEpkdCiRDFAKwT_jKbc7CmV55h/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          userName: userName,
          userGender: userGender,
          birthDate: birthDate,
          birthType: birthType,
          birthTime: birthTime,
          userEmail: userEmail,
          paymentItem: paymentItem,
          paymentTime: new Date().toLocaleString()
        })
      })
      .then(() => {
        console.log("âœ… êµ¬ê¸€ ì‹œíŠ¸ì— ë°ì´í„° ì „ì†¡ ì™„ë£Œ!");
      })
      .catch(error => {
        console.error("âŒ ë°ì´í„° ì „ì†¡ ì‹¤íŒ¨:", error);
      });
    }
  </script>
  
</html>