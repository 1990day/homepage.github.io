

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸</title>
    <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸">
<meta name="keywords" content="í…ŒìŠ¤íŠ¸ì‡,ì„±ê²©í…ŒìŠ¤íŠ¸,ê°€ì¡±ê³„íšë³´ê³ ì„œí…ŒìŠ¤íŠ¸,ê°€ì¡±ê³„íší…ŒìŠ¤íŠ¸,í…ŒìŠ¤íŠ¸ì‡ê°€ì¡±ê³„íší…ŒìŠ¤íŠ¸,í…ŒìŠ¤íŠ¸ì‡ê°€ì¡±ê³„íšë³´ê³ ì„œí…ŒìŠ¤íŠ¸,í…ŒìŠ¤íŠ¸ì‡ê°€ì¡±,í…ŒìŠ¤íŠ¸ì‡ì—°ì• ,í…ŒìŠ¤íŠ¸ì‡ì„±ê²©í…ŒìŠ¤íŠ¸,ê°€ì¡±ê³„íšë³´ê³ ì„œí…ŒìŠ¤íŠ¸ê²°ê³¼,ì—°ì• í…ŒìŠ¤íŠ¸,ì—°ì• mbti,ì—°ì• ì„±ê²©í…ŒìŠ¤íŠ¸, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, mbtií…ŒìŠ¤íŠ¸">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸">
    <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸">
    <meta property="og:image" content="img_main280.png">
    <meta property="og:url" content="https://test-it.co.kr/test280">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">



  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      background: #fffbea;
      color: #333;
    }

    @font-face {
    font-family: 'ChosunGu';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    
      body {
            font-family: 'ChosunGu', sans-serif;
        }
    
        .page-header {
  width: 100%;
  padding: 20px 20px;
  box-sizing: border-box;
}

.nav-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  width: 100px;
  margin-left: 4px; /* ì™¼ìª½ ê³µê°„ ì‚´ì§ */
}

.main-nav {
  display: flex;
  list-style: none;
  margin-right: 4px; /* ì˜¤ë¥¸ìª½ ëì—ì„œ ì‚´ì§ ë–¨ì–´ì§€ê²Œ */
  padding: 0;
  flex-wrap: nowrap; /* âœ… ì¤„ë°”ê¿ˆ ë§‰ê¸° */
}

.main-nav li {
  margin-left: 24px;
  font-family: 'Do Hyeon', sans-serif;
  font-size: 1.2rem;
}

.main-nav a {
  color: #432;
  text-decoration: none;
}

.main-nav a:hover {
  color: #0bd;
}


    .container {
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      background: #fff8cc;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    .screen { display: none; }
    .active { display: block; }
    h2, h3, h4 {
      color: #5a4e00;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 15px;
      font-size: 16px;
      background: #ffe066;
      color: #5a4e00;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #ffdd57;
    }

    .question {
      margin-top: 30px; /* ì§ˆë¬¸ë¼ë¦¬ ê°„ê²© ë” ë„“íˆê¸° */
  margin-bottom: 30px; /* ì§ˆë¬¸ë¼ë¦¬ ê°„ê²© ë” ë„“íˆê¸° */
  font-size: 0.5rem;        /* ì›í•˜ëŠ” í¬ê¸°ë¡œ ì¤„ì´ê¸° (ì˜ˆ: 0.9rem) */
  font-weight: bold;        /* ì§ˆë¬¸ ê¸€ì”¨ë¥¼ êµµê²Œ */
  text-align: center; /* ê°€ìš´ë° ì •ë ¬ */
}

.question h3 {
  font-size: 1.1rem;
  font-weight: 700;
  margin: 0;      /* h3 ê¸°ë³¸ ë§ˆì§„ ë¦¬ì…‹(ì›í•˜ë©´ ìœ ì§€) */
}

.answers {
  display: flex;
  flex-direction: column;
  gap: 5px; /* ë²„íŠ¼ë“¤ ì‚¬ì´ 30px ê°„ê²© */
}

.answers button {
  margin: 0; /* gapì— ë§¡ê¸°ê³  marginì€ ì—†ì• ê¸° */
  padding: 30px 12px; /* ìœ„ì•„ë˜ 24px, ì¢Œìš° 12px */
}


    .answers button:hover {
      background: #ffeb80;
    }
    .progress {
      height: 12px;
      background: #fceeb5;
      border-radius: 6px;
      margin-bottom: 30px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: #ffd43b;
      transition: width 0.3s;
    }
    .result-img {
      width: 100%;
      border-radius: 10px;
      margin-top: 20px;
    }
    .wrapper {
  max-width: 500px;
  margin: 0 auto;
  padding: 0 20px;
}
/* tieâ€‘break ì§ˆë¬¸ ê¸€ì”¨ ì‘ê²Œ & êµµê²Œ */
#tie-break-screen h4 {
  font-size: 1.1rem;       /* ì›í•˜ëŠ” í¬ê¸°ë¡œ ì¡°ì ˆ */
  font-weight: bold;       /* êµµê²Œ */
  margin: 0 0 30px;        /* ì•„ë˜ ì—¬ë°± */
  text-align: center;      /* ê°€ìš´ë° ì •ë ¬ */
}

/* tieâ€‘break ë²„íŠ¼ ì„¸ë¡œ í¬ê¸° í‚¤ìš°ê¸° */
#tie-break-screen button {
  padding: 30px 12px;      /* ìœ„ì•„ë˜ 30px, ì¢Œìš° 12px */
gap: 5px;
  font-size: 16px;         /* ë²„íŠ¼ í…ìŠ¤íŠ¸ í¬ê¸°ëŠ” ì›ë˜ëŒ€ë¡œ ìœ ì§€ */
}

.custom-jelly-button {
  background-color: #ffe066 !important; /* ì—°ë…¸ë‘ ê¸°ë³¸ìƒ‰ */
  color: #5a4e00 !important;            /* ì–´ë‘ìš´ ê°ˆìƒ‰ í…ìŠ¤íŠ¸ */
  border: none;
  border-radius: 10px;
  padding: 12px 20px;
  font-size: 16px;
  font-weight: bold;
  transition: background 0.3s;
}

.custom-jelly-button:hover {
  background-color: #ffdd57 !important; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ì—°ë…¸ë‘ ê°•ì¡° */
}


#nicknameOverlay {
  position: absolute;
  top: 41%;
  left: 0;
  width: 100%;
  font-size: 1.1rem;
  font-weight: bold;
  color: #000000;
  text-align: center;
}

.coupang_ad {
    width: 320px;
    margin: 0 auto;
    text-align: center;
}

@media screen and (max-width: 580px) {
  #nicknameOverlay {
    font-size: 0.95rem; /* ğŸ’¡ í°ì—ì„œëŠ” ë” ì‘ê²Œ */
    top: 42%;           /* í•„ìš” ì‹œ ìœ„ì¹˜ë„ ì¡°ì ˆ */
  }
}


@media screen and (max-width: 480px) {
  .main-nav li {
    font-size: 1.1rem; /* ğŸ’¡ ì¤„ë°”ê¿ˆ ì—†ì´ ìœ ì§€ë˜ë„ë¡ ì‘ê²Œ! */
    margin-left: 12px; /* ğŸ’¡ ì—¬ë°±ë„ ì‚´ì§ ì¤„ì—¬ì„œ ê³µê°„ í™•ë³´ */
  }
  #nicknameOverlay {
    font-size: 0.85rem; /* ğŸ’¡ í°ì—ì„œëŠ” ë” ì‘ê²Œ */
    top: 42%;           /* í•„ìš” ì‹œ ìœ„ì¹˜ë„ ì¡°ì ˆ */
  }
}

@media screen and (max-width: 400px) {
  #nicknameOverlay {
    font-size: 0.75rem; /* ğŸ’¡ í°ì—ì„œëŠ” ë” ì‘ê²Œ */
    top: 42%;           /* í•„ìš” ì‹œ ìœ„ì¹˜ë„ ì¡°ì ˆ */
  }
}


  </style>
</head>
<!-- body íƒœê·¸ style background-color ì§€ì •ìœ¼ë¡œ ë°°ê²½ìƒ‰ ë³€ê²½-->
<body style="background-color:#ffffff">

  <header class="page-header">
    <div class="nav-bar">
      <a href="index.html">
        <img class="logo" src="img_logo.png" alt="test it">
      </a>
      <ul class="main-nav">
        <li><a href="https://test-it.co.kr/test.html">ì„±ê²©</a></li>
        <li><a href="https://test-it.co.kr/face.html">ì–¼êµ´</a></li>
        <li><a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a></li>
        <li><a href="https://test-it.co.kr/saju.html">ì‚¬ì£¼</a></li>
      </ul>
    </div>
  </header>
  
  

<body>
  <div class="container">
<!-- ì‹œì‘ í™”ë©´ -->
<div id="start-screen" class="screen active">

  
  <!-- ë©”ì¸ ì´ë¯¸ì§€ ì¶”ê°€ -->
  <img src="img_main280.png" alt="ê°€ì¡±ê³„íšë³´ê³ ì„œ ë©”ì¸ ì´ë¯¸ì§€"
       style="width: 100%; max-width: 500px; display: block; margin: 20px auto; border-radius: 10px;" />
  
  <button onclick="goToNameScreen()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
</div>


    <!-- ì´ë¦„ ì…ë ¥ í™”ë©´ -->
    <div id="name-screen" class="screen">

      <img src="nickname280.png" alt="ì´ë¦„ ì…ë ¥ ì¼ëŸ¬ìŠ¤íŠ¸"
           style="width: 100%; max-width: 500px; display: block; margin: 20px auto; border-radius: 10px;" />
      <input type="text" id="username" placeholder="ì—¬ê¸°ì— ì…ë ¥í•´ìš”!" />
      <button onclick="startTest()">ì‹œì‘</button>
    </div>

    <!-- ì§ˆë¬¸ í™”ë©´ -->
    <div id="question-screen" class="screen">
      <div class="progress"><div class="progress-bar" id="progress-bar"></div></div>
      <div id="question-box"></div>
    </div>

    <!-- ì¶”ê°€ ì§ˆë¬¸ í™”ë©´ -->
    <div id="tie-break-screen" class="screen">
      <div id="tie-break-box"></div>
    </div>

<!-- ê²°ê³¼ í™”ë©´ -->
<div id="result-screen" class="screen">

  <!-- ì´ë¯¸ì§€ + ë‹‰ë„¤ì„ ê²¹ì¹˜ê¸°ìš© ë°•ìŠ¤ -->
  <div id="resultContainer" style="position: relative; text-align: center;">
    <!-- ë‹‰ë„¤ì„ + ë¬¸êµ¬ ê²¹ì¹˜ê¸° -->
    <div id="nicknameOverlay">
      <span id="result-name"></span>
    </div>
  
    <img id="result-img" class="result-img" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€" style="width: 100%;" />
  </div>

  <!-- ë²„íŠ¼ë“¤ -->
  <div style="margin-top: 10px; display: flex; flex-direction: column; gap: 3px; align-items: center;">
    <button id="save-btn" type="button" class="custom-jelly-button" onclick="saveResult()">
      ì´ë¯¸ì§€ ì €ì¥í•˜ê¸°
    </button>
    <button type="button" class="custom-jelly-button" onclick="location.href='test280.html'">
      ë‹¤ì‹œ í•´ë³´ê¸°
    </button>
    <button type="button" class="custom-jelly-button" onclick="location.href='/'">
      ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸°
    </button>
    <button type="button" id="share-btn" class="custom-jelly-button">
      í…ŒìŠ¤íŠ¸ ê³µìœ í•˜ê¸°
    </button>
    
  </div>
</div>
<article class="coupang_ad mt-3">
  <script src="https://ads-partners.coupang.com/g.js"></script>
  <script>
    new PartnersCoupang.G({"id":798186,"template":"carousel","trackingCode":"AF4391881","width":"320","height":"140","tsource":""});
  </script>
  <script>
    const questions = [
      {
        text: " í‡´ê·¼ í›„<br><br>ì§‘ì— ë“¤ì–´ì„œìë§ˆì ë“œëŠ” ìƒê°ì€?",
        options: ["ì •ì ì´ ì£¼ëŠ” ì•ˆì •ê°ì´ ì°¸ ì¢‹ë‹¤", "ëˆ„êµ°ê°€ì˜ ì˜¨ê¸°ëŠ” ìˆì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤", "ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ì— ëŒ€í•´ ì–˜ê¸°í•˜ê³  ì‹¶ì–´ì§„ë‹¤", "ë³µì‘ë³µì‘í•œ ì§‘ì•ˆ ë¶„ìœ„ê¸°ê°€ ê·¸ë¦½ë‹¤"]
      },
      {
        text: "ì§‘ì´ë¼ëŠ” ê³µê°„ì´ ë‚˜ì—ê²Œ ì˜ë¯¸í•˜ëŠ” ê±´?",
        options: ["ììœ ", "ì •ì„œì  ì—°ê²°", "í•¨ê»˜í•˜ëŠ” ì•ˆì •ê°", "ì„œë¡œ ì±™ê¸°ê³  ì—®ì´ëŠ” ê³³"]
      },
      {
        text: "ë‚´ê°€ ê°€ì¥ ë¶ˆí¸í•œ ìƒí™©ì€?",
        options: ["ëˆ„ê°€ ë‚´ ì¼ìƒì— ê°„ì„­í•˜ëŠ” ê²ƒ", "ê°ì •ì´ ì ì  ë¬´ëŒì§€ëŠ” ê²ƒ", "ì™¸ë¡œì›€ì´ ëª°ë ¤ì˜¤ëŠ” ë°¤", "ë¬´ì„œìš¸ ì •ë„ì˜ ì •ì "]
      },
      {
        text: "ëˆ„êµ°ê°€ ë‚˜ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆë‹¤ê³  ìƒìƒí•˜ë©´?",
        options: ["ë­”ê°€ ë¶ˆí¸í•˜ë‹¤", "ì¡°ìš©íˆ ê¸°ë‹¤ë¦¬ëŠ” ì¡´ì¬ê°€ ìˆë‹¤ëŠ” ê±´ ì¢‹ë‹¤", "ê·¸ëŸ° ëˆ„êµ°ê°€ê°€ ìˆì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤", "ë‹¹ì—°í•œ ê±°ë¼ ìƒê°í•œë‹¤"]
      },
      {
        text: "â€˜í˜¼ì ë°¥ ë¨¹ê¸°â€™ì— ëŒ€í•œ ë‚´ ìƒê°ì€?",
        options: ["ë„ˆë¬´ í¸í•˜ê³  ì¢‹ë‹¤", "ê´œì°®ì§€ë§Œ ê°€ë”ì€ ì™¸ë¡­ë‹¤", "ë°¥ì€ ê°™ì´ ë¨¹ì–´ì•¼ ì œë§›", "ë– ë“¤ë©´ì„œ ë¨¹ëŠ” ê²Œ ì¢‹ë‹¤"]
      },
      {
        text: "ë‚˜ì˜ ì´ìƒì ì¸ í•˜ë£¨ ëì€?",
        options: ["ì¡°ìš©í•œ ë°© ì•ˆ, ë‚˜ë§Œì˜ ì‹œê°„", "ë”°ëœ»í•œ ì—¬ìš´ì´ ë‚¨ëŠ” ì‹œê°„", "í•˜ë£¨ë¥¼ ê°™ì´ ëŒì•„ë³´ëŠ” ëŒ€í™”", "ì‹œëŒì‹œëŒí•œ ì‹ì‚¬ í›„ ì •ë¦¬ëœ ë¶„ìœ„ê¸°"]
      },
      {
        text: "ëˆ„êµ°ê°€ ë‚´ ê³µê°„ì— ë¨¸ë¬´ë¥¸ë‹¤ë©´?",
        options: ["ë¶ˆí¸í•˜ë‹¤. ë‚´ ë¦¬ë“¬ì´ ê¹¨ì§„ë‹¤", "ì‹œë„ëŸ½ì§€ë§Œ ì•Šìœ¼ë©´ ê´œì°®ë‹¤", "ì‹¬ì‹¬í•˜ì§€ ì•Šì•„ì„œ ì¢‹ë‹¤", "ëŠ˜ ëˆ„êµ°ê°€ ìˆì–´ì„œ ìµìˆ™í•˜ë‹¤"]
      },
      {
        text: "ë‹¤ë¥¸ ë‚ ë³´ë‹¤ í˜ë“¤ì—ˆë˜ ì˜¤ëŠ˜<br><br>ë‚˜ì˜ íšŒë³µ ë°©ì‹ì€?",
        options: ["ë‚˜ë§Œì˜ ê³µê°„ì—ì„œ ì¡°ìš©íˆ ì‰¬ëŠ” ê²ƒ", "ì‘ì€ ì˜¨ê¸°ì— ê¸°ëŒ€ê³  ì‹¶ë‹¤", "ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ê±°ë‚˜<br>ëˆ„êµ°ê°€ì˜ ê³µê°ì„ ë°›ê³  ì‹¶ë‹¤", "ì‹œëŒë²…ì í•œ ë¶„ìœ„ê¸° ì†ì—ì„œ ìŠê³  ì‹¶ë‹¤"]
      },
      {
        text: "ì§‘ì—ì„œ ë“£ê³  ì‹¶ì€ ì†Œë¦¬ëŠ”?",
        options: ["ì•„ë¬´ ì†Œë¦¬ë„ ì•ˆ ë‚˜ëŠ” ê²ƒ", "ì¡°ìš©í•œ ìˆ¨ì†Œë¦¬ ê°™ì€ ê¸°ì²™", "ìµìˆ™í•œ ì‚¬ëŒê³¼ ë‚˜ëˆ„ëŠ” ëŒ€í™”", "ëˆ„êµ°ê°€ ì›ƒëŠ” ì†Œë¦¬<br>ìŒì‹í•˜ëŠ” ì†Œë¦¬"]
      },
      {
        text: "ë‚˜ì—ê²Œ â€˜ì‰¼â€™ì´ë€?",
        options: ["ëˆ„êµ¬ë„ ì¹¨ë²”í•  ìˆ˜ ì—†ëŠ” í‰ì˜¨í•œ ìˆœê°„", "ë”°ëœ»í•œ ì¡´ì¬ê°€ ìˆëŠ” ê³³", "í•¨ê»˜ ê±±ì •ì„ ë‚˜ëˆ„ê³ <br>í’€ì–´ë‚¼ ìˆ˜ ìˆëŠ” ì‹œê°„", "ë‚  ì•Œì•„ì£¼ëŠ” ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ì¸ ê²ƒ"]
      }
    ];

    const tieBreakQuestions = {
      "0_1": {
        text: "í˜¼ìë§Œì˜ ì‹œê°„ì´ ìµìˆ™í•˜ì§€ë§Œ<br>ê°€ë” ì™¸ë¡œì›€ì„ ëŠë‚„ ë•Œ ë‚˜ëŠ”?",
        options: ["ê·¸ëƒ¥ ë‚´ ê³µê°„ì—ì„œ ì¡°ìš©íˆ ë³´ë‚¸ë‹¤", "ëˆ„êµ°ê°€ì™€ ì •ì„œì ìœ¼ë¡œ<br>ì—°ê²°ë˜ê³  ì‹¶ì–´ì§„ë‹¤"],
        resultMap: [0, 1]
      },
      "0_2": {
        text: "ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ê³µê°„ì˜ íŠ¹ì§•ì€?",
        options: ["ë‚˜ í˜¼ì ìˆì„ ìˆ˜ ìˆëŠ” êµ¬ì¡°", "ê°™ì´ ë¨¸ë¬¼ê¸° ì¢‹ì€ êµ¬ì„±"],
        resultMap: [0, 2]
      },
      "0_3": {
        text: "íœ´ê°€ ì¤‘ ê°€ì¥ ì´ìƒì ì¸ í•˜ë£¨ëŠ”?",
        options: ["ì•„ë¬´ ë°ë„ ê°€ì§€ ì•Šê³ <br>ë°© ì•ˆì—ì„œ ë’¹êµ´ê¸°", "ëª¨ë‘ ëª¨ì—¬ ë‹¤ ê°™ì´ ë¨¹ê³  ë– ë“¤ê¸°"],
        resultMap: [0, 3]
      },
      "1_2": {
        text: "ë‘˜ ì¤‘ì— ë‚´ê°€ ë” ì¢‹ì•„í•˜ëŠ” ê±´?",
        options: ["ë§ì„ ë§ì´ í•˜ì§€ ì•Šì•„ë„<br>ì• ì •ì´ ëŠê»´ì§€ëŠ” ê²Œ ì¢‹ë‹¤", "ì„œë¡œ ì†Œí†µì„ í•˜ëŠ” ê²Œ ì¢‹ë‹¤"],
        resultMap: [1, 2]
      },
      "1_3": {
        text: "ë‚´ê°€ ì‹«ì–´í•˜ëŠ” ìƒí™©ì€?",
        options: ["ê°ì •ì ìœ¼ë¡œ ë©”ë§ë¼ì§„ ìƒíƒœ", "ëª¨ë‘ê°€ í©ì–´ì§€ê³  ê³ ìš”í•´ì§„ ì§‘"],
        resultMap: [1, 3]
      },
      "2_3": {
        text: "ë‚´ê°€ ìƒê°í•˜ëŠ” â€˜ë”°ëœ»í•¨â€™ì€?",
        options: ["ë‚˜ëˆ”ê³¼ ê³µê°ì´ ìˆëŠ” ëŒ€í™”", "ë‹¤ ê°™ì´ ë°¥ ë¨¹ê³  TV ë³´ëŠ” í’ê²½"],
        resultMap: [2, 3]
      }
    };

    const scores = [0, 0, 0, 0];
    const resultImages = [
      "img_alone280.png",
      "img_pet280.png",
      "img_partner280.png",
      "img_family280.png"
    ];

    let currentQuestion = 0;
    let username = "";
    let tieCandidates = [];

    function goToNameScreen() {
      showScreen("name-screen");
    }

    function startTest() {
      username = document.getElementById("username").value || "ì‚¬ìš©ì";
      showScreen("question-screen");
      showQuestion();
    }

    function showScreen(id) {
      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    function showQuestion() {
      if (currentQuestion < questions.length) {
        const q = questions[currentQuestion];
        const box = document.getElementById("question-box");
        document.getElementById("progress-bar").style.width = (currentQuestion / questions.length) * 100 + "%";
        box.innerHTML = `<div class="question"><h3>${q.text}</h3></div>
          <div class="answers">
            ${q.options.map((opt, i) => `<button onclick="choose(${i})">${opt}</button>`).join("")}
          </div>`;
      } else {
        handleResult();
      }
    }

    function choose(index) {
      scores[index]++;
      currentQuestion++;
      showQuestion();
    }

    function handleResult() {
      const max = Math.max(...scores);
      tieCandidates = scores.map((s, i) => s === max ? i : -1).filter(i => i !== -1);
      if (tieCandidates.length > 1) {
        const key = tieCandidates.slice(0, 2).sort((a,b) => a - b).join("_");
        const tie = tieBreakQuestions[key];
        if (tie) {
          showScreen("tie-break-screen");
          const box = document.getElementById("tie-break-box");
          box.innerHTML = `<h4>${tie.text}</h4>
            ${tie.options.map((opt, i) => `<button onclick="resolveTie(${tie.resultMap[i]})">${opt}</button>`).join("")}`;
          return;
        }
      }
      showFinalResult(scores.indexOf(max));
    }

    function resolveTie(resultIndex) {
      showFinalResult(resultIndex);
    }

    function showFinalResult(index) {
  showScreen("result-screen");
  const resultNameEl = document.getElementById("result-name");

  const endings = [
    "ë‹˜ì€ í˜¼ìê°€ ë§ì•„ìš”!",
    "ë‹˜ì€ ë°˜ë ¤ë™ë¬¼ê³¼ í•¨ê»˜ ì‚´ì•„ì•¼ í•´ìš”!",
    "ë‹˜ì€ ë™ë°˜ìì™€ í•¨ê»˜ ì‚¬ëŠ” ê²Œ ì¢‹ì•„ìš”!",
    "ë‹˜ì€ ëŒ€ê°€ì¡±ê³¼ ì‚´ì•„ì•¼ í•´ìš”!"
  ];

  resultNameEl.innerText = username + endings[index];
  document.getElementById("result-img").src = resultImages[index];
}


document.addEventListener("DOMContentLoaded", function () {
  const shareButton = document.getElementById("share-btn");
  if (shareButton) {
    shareButton.addEventListener("click", function () {
      const testURL = "https://test-it.co.kr/test280";
      const shareText = "í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸ í•´ë´!ğŸ«¶";

      if (navigator.share) {
        navigator.share({
          title: "í…ŒìŠ¤íŠ¸ì‡ ê°€ì¡±ê³„íš ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸",
          text: shareText,
          url: testURL
        }).then(() => {
          console.log("âœ… ê³µìœ  ì„±ê³µ!");
        }).catch((error) => {
          console.error("âŒ ê³µìœ  ì‹¤íŒ¨:", error);
        });
      } else {
        navigator.clipboard.writeText(`${shareText} ${testURL}`).then(() => {
          alert("ğŸ“Œ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì¹œêµ¬ë“¤ì—ê²Œ ê³µìœ í•´ë³´ì„¸ìš”.");
        }).catch((err) => {
          console.error("âŒ í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:", err);
        });
      }
    });
  }
});
</script>

<!-- html2canvas ë¶ˆëŸ¬ì˜¤ê¸° + ì €ì¥ ê¸°ëŠ¥ -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
  function saveResult() {
    window.scrollTo(0, 0);

    const resultElement = document.querySelector("#resultContainer");

    resultElement.style.width = resultElement.scrollWidth + "px";
    resultElement.style.height = resultElement.scrollHeight + "px";

    html2canvas(resultElement, {
      useCORS: true,
      scale: window.devicePixelRatio,
      backgroundColor: null,
      scrollX: 0,
      scrollY: 0,
      width: resultElement.scrollWidth,
      height: resultElement.scrollHeight,
    }).then(function (canvas) {
      var link = document.createElement("a");
      link.download = "family_report_result.png";
      link.href = canvas.toDataURL("image/png");
      link.click();
    }).catch((err) => {
      console.error("âŒ ì´ë¯¸ì§€ ì €ì¥ ì‹¤íŒ¨:", err);
    });
  }
</script>
</div>
</body>
</html>
