

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>테스트잇 치부책 다이어리 테스트</title>
    <meta name="description" content="테스트잇 치부책 다이어리 테스트">
<meta name="keywords" content="테스트잇,성격테스트,치부책테스트,치부책테스트,치부책다이어리테스트,테스트잇치부책,테스트잇치부책다이어리,테스트잇연애,연애테스트,연애mbti,연애성격테스트, 심리테스트, mbti테스트">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="테스트잇 치부책 다이어리 테스트">
    <meta property="og:description" content="테스트잇 치부책 다이어리 테스트">
    <meta property="og:image" content="img_main328.png">
    <meta property="og:url" content="https://test-it.co.kr/test328">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/galmuri@latest/dist/galmuri.css">


    <style>
        
        @font-face {
    font-family: 'NanumSquareRound';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_two@1.0/NanumSquareRound.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
        
@font-face {
    font-family: 'GMarketSans';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansLight.woff') format('woff');
    font-weight: 300;
    font-display: swap;
}
@font-face {
    font-family: 'KIMM_Bold';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2212@1.0/KIMM_Bold.woff2') format('woff2');
    font-weight: 328;
    font-style: normal;
}

@font-face {
    font-family: 'SchoolSafetySusukkang';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2508-2@1.0/HakgyoansimSusukkangL.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
}
        
@import url('https://fastly.jsdelivr.net/npm/galmuri@latest/dist/galmuri.css');



        body {
            font-family: 'NanumSquareRound', sans-serif;
        }
        .logo {
            width: 100px;
            margin-top: 14px;
        }
        .main-nav {
    display: flex;
    font-size: 1rem; /* 기본 크기 줄이기 */
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
}

.main-nav li {
    margin-left: 20px; /* 간격 줄이기 */
    line-height: 1.7;
    color: #432;
}

        .main-nav a{
            color: #432;
            line-height: 1.7;
        }
        .main-nav a:hover {
            color: #0bd;
        }
        .page-header {
            display: flex;
            justify-content: space-between;
        }
        article{
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .question, .nickname, .result {
            display: none;
        }
  .progress {
    display: block !important;
    width: 100%;
    height: 20px;
    background-color: #ffffff; /* 흰색 대신 연한 회색 추천 */
    border-radius: 30px;
    overflow: hidden;
    margin-top: 15px;
}


.progress-bar {
    background: repeating-linear-gradient(
        45deg,
        #ffcbe9,
        #ffcbe9 15px,
        #fffce1 15px,
        #fffce1 30px
    ); /* 노랑+연두 줄무늬 */
    border-radius: 30px; /* 원통 모양 */
    height: 100%;
    transition: width 0.4s ease; /* 애니메이션 부드럽게 */
}


        
        #img {
            width: 100%;
            height: auto;
            display: block;
        }

        .custom-jelly-button {
    max-width: 350px;
    width: 350px; /* 부모 요소에 영향을 받지 않도록 자동 크기 조정 */
    height: 50px; /* 버튼 높이 고정 */
    padding: 10px 20px; /* 내부 여백 조정 */
    font-size: 14px !important;
    font-weight: normal;
    color: black !important;
    background-color: #fac4ff;
    border: none;
    border-radius: 15px;
    margin: 0 auto;
    display: block;
    text-align: center;
    white-space: nowrap; /* 버튼 내용이 한 줄로 유지되도록 설정 */
}


.custom-jelly-button:hover {
    background-color: #fac4ff; /* 호버 시에도 비슷한 톤 유지 */
}

    
.jelly-question-box {
    width: 100%;

    max-width: 400px;
    padding: 20px;
    margin: 20px auto;
    background-color: #ffdde8;
    border-radius: 25px;
    text-align: center;
  color: #000;  /* 검정색 */
    font-weight: normal;
    display: flex;
    justify-content: center;

    /* 세로는 자동으로 늘어나게 */
    align-items: flex-start; 
}

.jelly-question-box h6 {
    font-size: 17px !important;
    font-weight: normal;
    color: black;
}

        
.save-result-button {
    max-width: 350px;
    width: 350px;
    height: 50px; /* 높이를 다른 버튼과 동일하게 맞춤 */
    font-size: 14px !important;
    font-weight: normal;
    color: black !important;
    background-color: #fac4ff;
    border: none;
    border-radius: 15px;
    margin: 0 auto;
    display: block;
    text-align: center;
    white-space: nowrap;
}


.save-result-button:hover {
    background-color: #fac4ff; /* 호버 시 색 유지 */
}


.save-result-button:active,
.save-result-button:focus {
    background-color: #fac4ff !important; /* 클릭 후에도 노랑 유지 */
    border-color: #fac4ff !important;
    box-shadow: none !important; /* 클릭 시 기본 부트스트랩 효과 제거 */
    outline: none !important;
}

  .image-container {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    overflow: hidden; /* 컨테이너 내에서 이미지가 넘치지 않도록 설정 */
}

#resultImage {
    width: 100%;
    height: auto;
    display: block;
}

#resultContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    overflow: hidden;
    position: relative; /* 위치 고정 */
    width: auto !important;
    height: auto !important;
    padding: 20px; /* 캡처 시 짤리는 문제 해결 */
}

#nicknameOverlay {
    position: absolute; /* 닉네임 위치 고정 */
    top: 83%; /* 기존 위치 유지 */
    left: 49%;
    transform: translateX(-50%);
    font-size: 17px;
    font-weight: bold;
    color: #000000;
    z-index: 10;
    white-space: nowrap;
    pointer-events: none;
    font-family: 'SchoolSafetySusukkang', sans-serif;
        padding: 3px 3px; /* 안쪽 여백 */
    border-radius: 12px; /* 둥글게 */
   
}

#resultContainer.capturing {
  padding: 0 !important;
}
        #img_main{
            width: 500px;
            max-width: 100%;
            height: auto;
            margin: 0 auto;
        }
        .custom-button {
            width: 100%;
            max-width: 350px;
            margin: 10px auto;
        }
        .nickname-input {
            max-width: 350px;
            width: 100%;
            margin-top: 20px;
        }

        /* 버튼 클릭 시 생기는 파란 테두리 제거 */
button:focus {
    outline: none !important;
    box-shadow: none !important;
}

        /* 모바일 화면에서 닉네임 크기 조정 */
@media screen and (max-width: 768px) {
    #nicknameOverlay {
        font-size: 16px; /* 모바일에서 글자 크기 줄이기 */
    }
    .custom-jelly-button, .save-result-button {
        width: 90%; /* 부모 요소에 맞게 자동 조정 */
        max-width: 328px; /* 최대 크기 제한 */
        min-width: 200px; /* 너무 작아지는 것 방지 */
    }
}

 @media screen and (max-width: 520px) {
    #nicknameOverlay {
        font-size: 15px; /* 모바일에서 글자 크기 줄이기 */
        top: 82%; /* 기존 위치 유지 */
    }
    }
   @media screen and (max-width: 470px) {
    #nicknameOverlay {
        font-size: 13px; /* 모바일에서 글자 크기 줄이기 */
      top: 82%; /* 기존 위치 유지 */
    }
}
    @media screen and (max-width: 450px) {
    #nicknameOverlay {
        font-size: 13px; /* 모바일에서 글자 크기 줄이기 */
      top: 82%; /* 기존 위치 유지 */
    }
    }
    @media screen and (max-width: 430px) {
    #nicknameOverlay {
        font-size: 13px; /* 모바일에서 글자 크기 줄이기 */
     top: 81%; /* 기존 위치 유지 */
    }
}
    @media screen and (max-width: 410px) {
    #nicknameOverlay {
        font-size: 12px; /* 모바일에서 글자 크기 줄이기 */
        top: 81%; /* 기존 위치 유지 */
    }
   
    @media screen and (max-width: 385px) {
    #nicknameOverlay {
   top: 80.5%; /* 기존 위치 유지 */
          font-size: 11px; /* 모바일에서 글자 크기 줄이기 */
    }
    }
    }
       @media screen and (max-width: 375px) {
    #nicknameOverlay {
   top: 80.5%; /* 기존 위치 유지 */
          font-size: 11px; /* 모바일에서 글자 크기 줄이기 */
    }
    }
    </style>

</head>
<body class="container" style="background-color:#ffffff">
    <header class="page-header wrapper">
        <h1><a href="index.html"><img class="logo" src="img_logo.png" alt="test it"></a>
        </h1>
        <nav>
            <u1 class="main-nav">
            <li> <a href="https://test-it.co.kr/test.html">성격</a></li>
            <li> <a href="https://test-it.co.kr/face.html">얼굴</a></li>
            <li> <a href="https://test-it.co.kr/etc.html">그외</a></li>
            <li> <a href="https://test-it.co.kr/saju.html">사주</a></li>
        </u1>
    </nav>
    </header>

<!-- 시작화면 -->
<article class="start">
    <img id="img_main" class="mt-3" src="img_main328.png">
    <button type="button" class="btn btn-info mt-1 custom-jelly-button" onclick='showNicknameInput();' style="font-size:large; font-weight: normal; color: black; background-color: #fac4ff; border-color: rgb(0, 0, 0); width: 350px; height: 50px; margin: 0 auto;">테스트 시작하기</button>
</article>


    <!-- 닉네임 입력 화면 -->
    <article class="nickname">
        <img id="img_nickname" class="mt-1" src="nickname328.png" style="max-width: 100%; height: auto; margin: 0 auto; display: block;">
        <input type="text" id="nicknameInput" class="form-control nickname-input" placeholder="이름이나 닉네임을 입력해요!">
     <button type="button" class="btn btn-info mt-3 custom-jelly-button" onclick='start();' style="font-size: 16px; font-weight: normal; color: black; background-color: #fac4ff; border-color: rgb(0, 0, 0);">다음 화면으로</button>
    </article>
    
 <!-- 문제 화면 -->
<article class="question">
    <div class="progress mt-5">
        <div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <!-- 문제 텍스트에 jelly-question-box 클래스 적용 -->
    <div class="jelly-question-box">
        <h6 id="title" style="font-weight: normal; color: black;" class="text-center mt-1">문제</h6>
    </div>
    <input id="type" type="hidden" value="EI">
    <button id="A" type="button" class="btn btn-info mt-3 custom-jelly-button" style="font-size:16px; font-weight: normal; color: black; background-color: #fac4ff; border-color: #fac4ff; width: 350px; height: 100px; margin: 0 auto; display: block;">Primary</button>
    <button id="B" type="button" class="btn btn-info mt-3 custom-jelly-button" style="font-size:16px; font-weight: normal; color: black; background-color: #fac4ff; border-color: #fac4ff; width: 350px; height: 100px; margin: 0 auto; display: block;">Primary</button>
</article>


  <!-- 결과 화면 -->
<article class="result">
    <div class="image-container" id="resultContainer">
        <img id="resultImage" src="" alt="result image" style="width: 100%; height: auto;">
        <div id="nicknameOverlay">닉네임</div>
    </div>
    <button type="button" class="btn btn-info mt-3 save-result-button" onclick="saveResult()" style="font-size:large; font-weight: normal;">결과 저장하기</button>
    <button type="button" class="btn btn-info mt-2 custom-jelly-button" onclick="location.href='test328.html'" style="font-size:large; font-weight: normal;">다시 해보기</button>
    <button type="button" class="btn btn-info mt-2 custom-jelly-button" onclick="location.href='/'" style="font-size:large; font-weight: normal;">다른 테스트 해보기</button>
    <button type="button" id="share-btn" class="btn btn-info mt-2 custom-jelly-button">
    테스트 공유하기
</button>
</article>


    <!-- 쿠팡 배너 -->
    <article class="coupang_ad mt-3 text-center">
        <script src="https://ads-partners.coupang.com/g.js"></script>
        <script>
            new PartnersCoupang.G({"id":798186,"template":"carousel","trackingCode":"AF4391881","width":"350","height":"140","tsource":""});
        </script>
    </article>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js"></script>

    <script>
        var num = 1;
        var EI = 0, SN = 0, TF = 0, JP = 0;
           var q = {
              1: {"title": "일상에서<br><br>에너지를 얻는 방식이 있다면?", "type": "EI", "A": "활동적으로 하루를 보내고<br>친한 사람들과 수다를 떠는 것", "B": "혼자 좋아하는 걸 하거나<br>조용히 책을 읽을 때"},

              2: {"title": "일을 할 때<br><br>내가 가장 싫어하는 것은?", "type": "SN", "A": "현실적인 데이터나 근거 없이<br>추상적인 비전만 제시하는 상사", "B": "새로운 시도를 막고<br>과거의 방식만 고집하는 동료"},

             3: {"title": "나는 어떤 사람을<br><br>좋은 사람이라고 평가할까?", "type": "TF", "A": "따뜻하고 친절하며<br>다른 사람의 마음을 잘 헤아리는 사람", "B": "합리적이고 공정하며<br>옳은 판단을 내리는 사람"},

             4: {"title": "주변 환경이나 방 정리에 대해<br><br>어떻게 생각해?", "type": "JP", "A": "좀 어질러져 있어도<br>내 나름의 규칙이 있어", "B": "정리된 상태를 유지해야<br>마음도 편하고 일도 잘 돼"},

             5: {"title": "나는 육감을 얼마나 믿을까?", "type": "SN", "A": "거의 믿지 않아<br>눈에 보이는 증거나 논리만 믿어", "B": "믿는 편이야<br>때로는 촉이 정확히 맞을 때가 있어"},

            6: {"title": "누가 나한테<br><br>너는 어떤 사람이야? 라고 물어본다면?", "type": "SN", "A": "나는 지금 OO 직업을 갖고 있고<br>OO 동호회에서 활동 중이야", "B": "나는 끊임없이 성장하고 있고<br>꿈을 향해 나아가는 사람이야"},

                7: {"title":"나는 인간관계에서<br><br>주로 어떤 타입일까?", "type": "EI", "A": "다양한 사람들과<br>얕고 넓게 교류하는 걸 즐겨", "B": "친한 사람 몇 명하고만<br>깊고 오래 관계를 맺어"},

             8: {"title": "나는 결정을 내릴 때<br><br>주로 뭘 가장 오래 고민해?", "type": "TF", "A": "주변 사람들에게 미칠 영향<br>내 감정에 후회는 없을지", "B": "합리적이고 객관적인지<br>미래에 어떤 결과를 낳을지"},

            9: {"title": "이메일을 확인했는데<br><br>답장해야 할 메일이야<br><br>나는?", "type": "JP", "A": "급한 일이 아니라면<br>나중에 여유로울 때 답장해", "B": "확인했으면 바로 답장해<br>할 일에서 지워야 마음이 편해"},


            10: {"title": "내가 듣고 싶은 가장 좋은 말은?", "type": "TF", "A": "당신은 정말 좋은 사람입니다.", "B": "당신의 분석은 정확하고 논리적입니다."},

            11: {"title": "나의 삶의 중심은<br><br>어디에 있다고 생각해?", "type": "EI", "A": "나를 둘러싼 환경과 사람들<br>그들과의 관계", "B": "나의 내면, 생각, 감정<br>잠재되어 있는 가능성"},


              12: {"title": "나는 내 삶에서<br><br>어떤 느낌을 받을 때 가장 안정적이야?", "type": "JP", "A": "모든 가능성이 열려 있고<br>언제든 바뀔 수 있다고 느낄 때", "B": "모든 것이 통제되고<br>정해진 길로 가고 있다고 느낄 때"}
        };

  function showNicknameInput() {
            $(".start").hide();
            $(".nickname").show();
        }


function start() {
    var nickname = $("#nicknameInput").val().trim();

    if (nickname === "") {
        alert("닉네임을 입력해주세요.");
        return;
    }

    if (nickname.length > 2) {
        alert("닉네임은 두 글자까지만 입력할 수 있어요!");
        return;
    }

    // 닉네임 형식 변경: 'ㅇㅇㅇ님의 게시판'
    var modifiedNickname = nickname + "꺼";

    // 결과창에서 닉네임 표시
    $("#nicknameOverlay").text(modifiedNickname);

    $(".nickname").hide();
    $(".question").show();
    next();
}


function next() {
    if (num === 13) {
        $(".question").hide();
        $(".result").show();
        var mbti = "";
        mbti += (EI >= 2) ? "E" : "I";
        mbti += (SN >= 2) ? "S" : "N";
        mbti += (TF >= 2) ? "F" : "T";
        mbti += (JP >= 2) ? "P" : "J";
        $("#resultImage").attr("src", "img_" + mbti.toLowerCase() + "328.png");
    } else {
        var progressPercent = (num / 12) * 100; // 문제 진행률 계산
        $(".progress-bar").css("width", progressPercent + "%"); // 프로그래스 바 업데이트

        $("#title").html(q[num]["title"]);
        $("#type").val(q[num]["type"]);
        $("#A").html(q[num]["A"]);
        $("#B").html(q[num]["B"]);
        num++;
    }
}



        $("#A").click(function () {
            var type = $("#type").val();
            if (type == "EI") EI++;
            else if (type == "SN") SN++;
            else if (type == "TF") TF++;
            else if (type == "JP") JP++;
            next();
        });

        $("#B").click(function () {
            next();
        });
async function saveResult() {
  // 폰트·이미지 준비
  if (document.fonts && document.fonts.ready) { try { await document.fonts.ready; } catch(e){} }

  const container = document.getElementById('resultContainer');
  const overlay   = document.getElementById('nicknameOverlay');
  const img       = document.getElementById('resultImage');

  if (!img.complete || img.naturalHeight === 0) {
    img.onload = () => saveResult();
    return;
  }

  // 화면에서 보이는 그대로의 좌표 계산
  const imgRect = img.getBoundingClientRect();
  const ovRect  = overlay.getBoundingClientRect();

  // 닉네임이 이미지보다 좌/우로 더 나가면 포함되도록 보강
  const leftX  = Math.min(imgRect.left,  ovRect.left);
  const rightX = Math.max(imgRect.right, ovRect.right);
  const topY   = Math.min(imgRect.top,   ovRect.top);
  const botY   = Math.max(imgRect.bottom,ovRect.bottom);

  const margin = 2;
  const x = Math.floor(leftX  + window.scrollX);
  const y = Math.floor(topY   + window.scrollY) - margin;
  const w = Math.ceil(rightX - leftX);
  const h = Math.ceil(botY - topY) + margin * 2;

  // 복제 DOM에서 퍼센트 재계산 방지: px로 고정
  const contRect = container.getBoundingClientRect();
  const overlayTopInContainer  = Math.round(ovRect.top  - contRect.top);
  const overlayLeftInContainer = Math.round(ovRect.left - contRect.left);

  html2canvas(document.body, {
    useCORS: true,
    backgroundColor: null,
    scale: Math.max(2, window.devicePixelRatio || 2),
    x, y, width: w, height: h,
    scrollX: 0, scrollY: 0,
    windowWidth:  Math.max(document.documentElement.clientWidth,  document.documentElement.scrollWidth),
    windowHeight: Math.max(document.documentElement.clientHeight, document.documentElement.scrollHeight),
    onclone: (doc) => {
      const o = doc.getElementById('nicknameOverlay');
      if (o) {
        o.style.position  = 'absolute';
        o.style.top       = overlayTopInContainer  + 'px';
        o.style.left      = overlayLeftInContainer + 'px';
        o.style.transform = 'none'; // 중앙 정렬 제거
      }
    }
  }).then(canvas => {
    const a = document.createElement('a');
    a.download = 'testit328_result.png';
    a.href = canvas.toDataURL('image/png');
    a.click();
  }).catch(err => {
    console.error('❌ 이미지 저장 실패:', err);
    alert('이미지 저장에 실패했어요. 한 번 더 시도해 주세요.');
  });
} // ← 이 닫는 괄호가 꼭 있어야 해!


document.addEventListener("DOMContentLoaded", function () {
    const shareButton = document.getElementById("share-btn"); // 공유 버튼 선택
    if (shareButton) {
        shareButton.addEventListener("click", function () {
            const testURL = window.location.href; // 현재 페이지 URL 가져오기
            const shareText = "치부책 다이어리 테스트 해봐💛❣️"; 

            if (navigator.share) {
                // 📱 모바일 및 지원되는 브라우저에서 기본 공유 기능 사용
                navigator.share({
                    title: "테스트잇 치부책 다이어리 테스트", 
                    text: shareText,
                    url: testURL
                }).then(() => {
                    console.log("✅ 공유 성공!");
                }).catch((error) => {
                    console.error("❌ 공유 실패:", error);
                });
            } else {
                // 💻 PC에서는 클립보드에 복사
                navigator.clipboard.writeText(`${shareText} ${testURL}`).then(() => {
                    alert("📌 링크가 복사되었습니다! 친구들에게 공유해보세요.");
                }).catch((err) => {
                    console.error("❌ 클립보드 복사 실패:", err);
                });
            }
        });
    }
});

    </script>
</body>
</html>