

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>테스트잇 에니어그램 성격 테스트</title>
    <meta name="description" content="테스트잇 에니어그램 성격 테스트">
<meta name="keywords" content="테스트잇,성격테스트,에니어그램테스트,에니어그램성격테스트,테스트잇연애,테스트잇에니어그램성격,에니어그램테스트결과,연애테스트,연애mbti,연애성격테스트, 심리테스트, mbti테스트">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="테스트잇 에니어그램 성격 테스트">
    <meta property="og:description" content="테스트잇 에니어그램 성격 테스트">
    <meta property="og:image" content="img_main254.png">
    <meta property="og:url" content="https://test-it.co.kr/test254">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">



    <style>

@font-face {
    font-family: 'ChosunGu';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    

        body {
            font-family: 'ChosunGu', sans-serif;
            text-align: center;
            background-color: #fff3f7;
            margin: 0;
            padding: 0;
        }


        .logo {
    width: 100px;
    margin-top: 14px;
}

.main-nav {
    display: flex;
    font-size: 1.25rem;
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
}

.main-nav li {
    margin-left: 36px;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
    color: #432;
}

.main-nav a{
    color: #432;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
}

.main-nav a:hover {
    color: #0bd;
}


.page-header {
    display: flex;
    justify-content: space-between;
}
#question-text,#extra-question-text {
    font-size: 18px;  /* 글씨 크기 키우기 */
    font-weight: bold; /* 글씨 굵게 */
    text-align: center;
    margin-bottom: 30px; /* 버튼과 간격 벌리기 */
}

.custom-jelly-button {
    background: linear-gradient(90deg, #ffc7de, #ffc7de); /* 색상 변경 가능 */
    color: rgb(0, 0, 0);
    font-size: 18px; /* 글자 크기 조정 */
    font-weight: bold;
    width: 60%; /* 버튼 크기 조정 */
    max-width: 300px; /* 최대 크기 제한 */
    padding: 12px; /* 버튼 높이 조정 */
    border-radius: 30px; /* 버튼 모양 둥글게 */
    display: block;
    margin: 15px auto; /* 버튼 간격 조정 */
    text-align: center;
    transition: all 0.2s ease-in-out;
}

.custom-jelly-button:hover {
    transform: scale(1.05); /* hover 효과 */
}

        .container {
            width: 90%;
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(255, 136, 170, 0.3);
            border: 5px solid #ffccd5;
            transition: all 0.3s ease-in-out;
        }
        .container:hover {
            transform: scale(1.02);
        }
        #progress-bar {
            width: 100%;
            background: #ffe0e9;
            border-radius: 10px;
            height: 12px;
            margin: 20px 0;
        }
        #progress {
            height: 12px;
            width: 0%;
            background: linear-gradient(90deg, #ff9aa2, #ffb7b2);
            border-radius: 10px;
            transition: width 0.3s ease-in-out;
        }
        .btn {
    display: block;
    width: 60%;  /* 버튼 너비 더 줄이기 */
    max-width: 350px; /* 최대 크기 제한 */
    padding: 10px; /* 버튼 높이 줄이기 */
    margin: 10px auto; /* 자동 정렬로 가운데 배치 */
    border: none;
    border-radius: 25px; /* 둥근 정도 적당히 조정 */
    cursor: pointer;
    font-size: 16px; /* 글자 크기 줄이기 */
    font-weight: bold;
    transition: all 0.2s ease-in-out;
    text-align: center; /* 텍스트 정렬 */
}
        .btn-a { background: linear-gradient(90deg, #ffd7d4, #ffd7d4);
             color: rgb(0, 0, 0); 
            min-height: 100px;
            width: 60%; /* 버튼 너비 줄이기 */
            max-width: 350px; /* 최대 크기 제한 */
            margin: 15px auto; /* 버튼마다 자동 가운데 정렬 */
        }
        .btn-b { background: linear-gradient(90deg, #fff9aa, #fff9aa); color: rgb(0, 0, 0); 
            min-height: 100px;
            width: 60%; /* 버튼 너비 줄이기 */
            max-width: 350px; /* 최대 크기 제한 */
            margin: 15px auto; /* 버튼마다 자동 가운데 정렬 */
        }
        .btn-start { background: linear-gradient(90deg, #ffb7b2, #ffb7b2); 
            color: rgb(0, 0, 0); 
            padding: 12px; 
            font-size: 18px; 
            border-radius: 30px; }
        .btn:hover { transform: scale(1.03); /* hover 효과 조금 줄이기 */ }
        .btn:active { transform: scale(0.95); }
        #result img {
    width: 100%;  /* 컨테이너에 맞춰 이미지 크기 조정 */
    max-width: 500px; /* 필요에 따라 조정 */
    height: auto;
    margin-top: 20px;
    border-radius: 20px;
}
        .hidden { display: none; }
    </style>
</head>

    <!-- ✅ 고정 헤더 추가 -->
    <header class="page-header wrapper" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: white;
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
    padding: 10px 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 70px;
">

    <!-- ✅ 로고: flex 컨테이너로 만들어 정렬 맞추기 -->
    <h1 style="margin: 0; display: flex; align-items: center; height: 100%;">
        <a href="index.html">
            <img class="logo" src="img_logo.png" alt="test it" style="width: 100px; height: auto;">
        </a>
    </h1>

    <!-- ✅ 네비게이션 메뉴: flex 정렬 유지 -->
    <nav style="display: flex; align-items: center; height: 100%;">
        <ul class="main-nav" style="
            display: flex;
            align-items: center;
            padding: 0;
            margin: 0;
            list-style: none;
        ">
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/test.html">성격</a>
            </li>
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/face.html">얼굴</a>
            </li>
            <li style="margin: 0 15px;">
                <a href="https://test-it.co.kr/etc.html">그외</a>
            </li>
        </ul>
    </nav>

</header>

<!-- ✅ 헤더와 컨텐츠 간 간격 유지 -->
<body style="background-color:#ffffff; padding-top: 80px;">

    <!-- ✅ 기존 컨텐츠 (헤더 바깥) -->
<div class="container" id="main-page">
    <h1>에니어그램 테스트</h1>
    <img src="img_main254.png" alt="메인 이미지" style="width:100%; border-radius:10px;">
    <button class="btn btn-start" onclick="startTest()">시작하기</button>
</div>

<div class="container hidden" id="quiz-page">
    <div id="progress-bar"><div id="progress"></div></div>
    <p id="question-text"></p>
    <button class="btn btn-a" onclick="selectAnswer('A')"></button>
    <button class="btn btn-b" onclick="selectAnswer('B')"></button>
</div>

<div class="container hidden" id="extra-quiz-page">
    <p id="extra-question-text"></p>
    <button class="btn btn-a" onclick="selectExtraAnswer('A')"></button>
    <button class="btn btn-b" onclick="selectExtraAnswer('B')"></button>
</div>

<div class="container hidden" id="result">
    <p id="result-text"></p>
    <img id="result-image" src="" alt="결과 이미지">
    
    <!-- 🔥 버튼 추가 -->
    <button type="button" class="btn btn-info mt-3 custom-jelly-button" 
        onclick="location.href='test254.html'" 
        style="font-size:large; font-weight: bold;">
        다시 해보기
    </button> 
    <button type="button" class="btn btn-info mt-3 custom-jelly-button" 
        onclick="location.href='/'" 
        style="font-size:large; font-weight: bold;">
        다른 테스트 해보기
    </button>
</div>

<script>

    // ✅ 1. 메인 질문 리스트 (기본 14개 질문)
 let questions = [
        { text: "팀플할 때 네 스타일은?", A: { text: "내가 주도해서 완벽하게!", type: "1" }, B: { text: "서로 조율하면서 평화롭게!", type: "9" } },
        { text: "SNS에 사진을 올릴 때 고민하는 건?", A: { text: "멋있어 보이나?", type: "3" }, B: { text: "사람들이 좋아할까?", type: "4" } },
        { text: "친구가 급하게 도와달라고 하면?", A: { text: "도와줘야지!", type: "2" }, B: { text: "일단 내 할 일부터!", type: "5" } },
        { text: "길 가다가 모르는 사람이 도움 요청하면?", A: { text: "일단 도와야지!", type: "6" }, B: { text: "신중하게 판단 후!", type: "9" } },
        { text: "파티 초대받았을 때 반응은?", A: { text: "완전 신나!", type: "7" }, B: { text: "너무 시끄러울 듯", type: "5" } },
        { text: "화났을 때 행동은?", A: { text: "바로 말해서 해결!", type: "8" }, B: { text: "참다가 터짐", type: "2" } },
        { text: "쇼핑할 때 스타일은?", A: { text: "유행 따라감!", type: "3" }, B: { text: "실용성을 고려!", type: "6" } },
        { text: "길을 잃었을 때 반응은?", A: { text: "일단 돌아다니면서 찾기!", type: "7" }, B: { text: "계획적으로 찾기!", type: "1" } },
        { text: "친구가 울면서 고민 상담하면?", A: { text: "감정을 함께 나눔!", type: "4" }, B: { text: "해결책을 제시함!", type: "8" } },
        { text: "새로운 취미 시작할 때 반응은?", A: { text: "흥미로우면 바로 해본다!", type: "5" }, B: { text: "계획을 세워서 시작!", type: "4" } },
        { text: "즉흥적으로 버스킹하자고 하면?", A: { text: "재밌을 것 같아!", type: "7" }, B: { text: "너무 갑작스러워서 부담스러움", type: "6" } },
        { text: "너한테 제일 중요한 건?", A: { text: "성공과 목표 달성!", type: "3" }, B: { text: "주변 사람들과의 관계!", type: "2" } },
        { text: "어떤 환경이 더 편해?", A: { text: "조용한 게 좋음!", type: "9" }, B: { text: "활기찬 게 좋음!", type: "1" } },
        { text: "중요한 결정을 내릴 때?", A: { text: "논리적으로 분석!", type: "8" }, B: { text: "감정적으로 판단!", type: "9" } }
    ];

     // ✅ 3. 점수를 저장하는 변수
 let scores = { "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0 };
    let tieBreakerQueue = [];
    let currentTieBreaker = null;
    let currentQuestion = 0;



   // ✅ 2. 추가 질문 리스트 (동점 발생 시 사용됨)
let extraQuestions = {
    "1vs2": { text: "더 중요한 것은?", A: { text: "원칙과 질서!", type: "1" }, B: { text: "사람을 돕는 것!", type: "2" } },
    "1vs3": { text: "더 가치 있는 것은?", A: { text: "완벽함과 질서!", type: "1" }, B: { text: "성취와 성공!", type: "3" } },
    "1vs4": { text: "더 중요한 것은?", A: { text: "규칙과 질서!", type: "1" }, B: { text: "창의성과 감성!", type: "4" } },
    "1vs5": { text: "결정할 때 중요한 것은?", A: { text: "논리적 분석!", type: "1" }, B: { text: "지식과 탐구!", type: "5" } },
    "1vs6": { text: "신뢰할 수 있는 것은?", A: { text: "규칙과 원칙!", type: "1" }, B: { text: "안전과 계획!", type: "6" } },
    "1vs7": { text: "더 즐거운 것은?", A: { text: "규칙적인 삶!", type: "1" }, B: { text: "새로운 경험!", type: "7" } },
    "1vs8": { text: "리더십 스타일은?", A: { text: "원칙을 강조!", type: "1" }, B: { text: "강한 주도권!", type: "8" } },
    "1vs9": { text: "더 중요한 가치?", A: { text: "질서와 원칙!", type: "1" }, B: { text: "평화와 조화!", type: "9" } },
    "2vs3": { text: "더 가치 있는 것은?", A: { text: "사람을 돕는 것!", type: "2" }, B: { text: "목표 달성!", type: "3" } },
    "2vs4": { text: "더 중요하게 생각하는 것은?", A: { text: "다른 사람과의 관계!", type: "2" }, B: { text: "내 감정을 표현하는 것!", type: "4" } },
    "2vs5": { text: "더 중요한 것은?", A: { text: "타인을 돕는 것!", type: "2" }, B: { text: "깊이 있는 탐구!", type: "5" } },
    "2vs6": { text: "더 신경 쓰이는 것은?", A: { text: "사람과 감정!", type: "2" }, B: { text: "안정과 계획!", type: "6" } },
    "2vs7": { text: "더 즐거운 것은?", A: { text: "도움을 주는 것!", type: "2" }, B: { text: "새로운 경험!", type: "7" } },
    "2vs8": { text: "더 중요하게 여기는 것은?", A: { text: "사람과 관계!", type: "2" }, B: { text: "강한 리더십!", type: "8" } },
    "2vs9": { text: "어떤 사람이 되고 싶은가?", A: { text: "배려하는 사람!", type: "2" }, B: { text: "평화로운 사람!", type: "9" } },
    "3vs4": { text: "더 가치 있는 것은?", A: { text: "성취와 목표 달성!", type: "3" }, B: { text: "창의적인 자기 표현!", type: "4" } },
    "3vs5": { text: "더 선호하는 것은?", A: { text: "성취와 경쟁!", type: "3" }, B: { text: "깊이 있는 탐구!", type: "5" } },
    "3vs6": { text: "더 중요한 것은?", A: { text: "목표 달성!", type: "3" }, B: { text: "안정과 신뢰!", type: "6" } },
    "3vs7": { text: "더 즐거운 것은?", A: { text: "목표를 이루는 것!", type: "3" }, B: { text: "다양한 경험!", type: "7" } },
    "3vs8": { text: "더 강한 성향은?", A: { text: "성취 지향!", type: "3" }, B: { text: "강한 리더십!", type: "8" } },
    "3vs9": { text: "더 중요한 가치?", A: { text: "목표와 성취!", type: "3" }, B: { text: "조화와 균형!", type: "9" } },
    "6vs7": { text: "더 선호하는 것은?", A: { text: "안정적인 삶!", type: "6" }, B: { text: "다채로운 경험!", type: "7" } },
    "6vs8": { text: "더 강한 성향은?", A: { text: "신중한 계획!", type: "6" }, B: { text: "강한 주도권!", type: "8" } },
    "6vs9": { text: "더 원하는 것은?", A: { text: "안정적인 삶!", type: "6" }, B: { text: "조화로운 삶!", type: "9" } },
    "7vs8": { text: "더 강한 성향은?", A: { text: "자유로운 도전!", type: "7" }, B: { text: "강한 리더십!", type: "8" } },
    "7vs9": { text: "더 원하는 것은?", A: { text: "다양한 경험!", type: "7" }, B: { text: "평온한 삶!", type: "9" } },
    "8vs9": { text: "더 중요한 가치?", A: { text: "강한 리더십!", type: "8" }, B: { text: "평화로운 조화!", type: "9" } }
};

function updateProgress() {
    let progress = (currentQuestion / questions.length) * 100;
    document.getElementById("progress").style.width = progress + "%";
}

function startTest() {
    document.getElementById("main-page").classList.add("hidden");
    document.getElementById("quiz-page").classList.remove("hidden");

    currentQuestion = 0; // ✅ 질문 번호 초기화
    updateProgress(); // ✅ 프로그래스 바 초기화
    loadQuestion();
}

function loadQuestion() {
    if (currentQuestion >= questions.length) {
        checkForTie();
        return;
    }

    let q = questions[currentQuestion];
    if (!q) return;

    document.getElementById("question-text").textContent = q.text;
    document.querySelector(".btn-a").textContent = q.A.text;
    document.querySelector(".btn-b").textContent = q.B.text;
}

function selectAnswer(choice) {
    if (currentQuestion >= questions.length) {
        checkForTie();
        return;
    }

    let selectedType = questions[currentQuestion][choice]?.type;
    if (!selectedType) return;

    scores[selectedType]++;
    currentQuestion++;

    updateProgress();
    loadQuestion();
}

    function checkForTie() {
    let sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
    let highestScore = sortedScores[0][1];
    let tiedTypes = sortedScores.filter(type => type[1] === highestScore).map(type => type[0]);

    if (tiedTypes.length > 1) {
        tieBreakerQueue = tiedTypes;
        processTieBreaker();
    } else {
        let mainType = sortedScores[0] ? sortedScores[0][0] : "알 수 없음";

        // ✅ mainType의 가능한 날개(±1 + 확장 해석)
        let possibleWings = [String(Number(mainType) - 1), String(Number(mainType) + 1)];
        if (mainType === "1") possibleWings.push("9");
        if (mainType === "9") possibleWings.push("1");

        let wingCandidates = possibleWings.filter(w => scores[w]); // 점수가 있는 날개만 남김

        let wingType = wingCandidates.length > 0 ? 
            wingCandidates.sort((a, b) => scores[b] - scores[a])[0] : 
            ""; // 날개가 없으면 빈 문자열

        showResult(mainType, wingType);
    }
}





    function processTieBreaker() {
    if (tieBreakerQueue.length > 1) {
        let type1 = tieBreakerQueue.shift();
        let type2 = tieBreakerQueue[0];

        let tieKey = `${type1}vs${type2}`;
        let reverseTieKey = `${type2}vs${type1}`;
        let selectedQuestion = extraQuestions[tieKey] || extraQuestions[reverseTieKey];

        if (selectedQuestion) {
            currentTieBreaker = selectedQuestion;

            document.getElementById("quiz-page").classList.add("hidden");
            document.getElementById("extra-quiz-page").classList.remove("hidden");

            // ✅ 디버깅용 콘솔 로그 추가
            console.log("현재 추가 질문:", currentTieBreaker);

            // ✅ 추가 질문이 정상적으로 표시되도록 수정
            let questionTextElement = document.getElementById("extra-question-text");
            if (currentTieBreaker && currentTieBreaker.text) {
                questionTextElement.textContent = currentTieBreaker.text;
            } else {
                questionTextElement.textContent = "추가 질문을 불러오지 못했습니다.";
            }

            // ✅ 버튼 텍스트 정상적으로 표시
            let btnA = document.querySelector("#extra-quiz-page .btn-a");
            let btnB = document.querySelector("#extra-quiz-page .btn-b");

            if (currentTieBreaker.A && currentTieBreaker.B) {
                btnA.textContent = currentTieBreaker.A.text;
                btnB.textContent = currentTieBreaker.B.text;
            } else {
                btnA.textContent = "선택지 없음";
                btnB.textContent = "선택지 없음";
            }
        } else {
            showResult(type1, type2);
        }
    }
}

    // ✅ selectExtraAnswer() 함수 수정 (정상적으로 작동하도록)
    function selectExtraAnswer(choice) {
    if (!currentTieBreaker) {
        console.log("currentTieBreaker가 null임! 추가 질문 없음");
        return;
    }

    let selectedType = choice === 'A' ? currentTieBreaker.A.type : currentTieBreaker.B.type;
    tieBreakerQueue = tieBreakerQueue.filter(type => type !== selectedType);

    if (tieBreakerQueue.length > 1) {
        processTieBreaker();
    } else {
        // ✅ 마지막 남은 타입을 확실히 가져오도록 수정
        let mainType = tieBreakerQueue[0] || selectedType;
        let wingType = tieBreakerQueue[1] || mainType;
        showResult(mainType, wingType);
    }
}


function showResult(mainType, wingType) {
    // ✅ mainType이 없으면 기본값 설정
    if (!mainType) mainType = "알 수 없음";

    // ✅ mainType의 가능한 날개(±1 + 확장 해석)
    let possibleWings = [String(Number(mainType) - 1), String(Number(mainType) + 1)];

    // ✅ 확장 해석: 1w9, 9w1 허용
    if (mainType === "1") possibleWings.push("9");
    if (mainType === "9") possibleWings.push("1");

    // ✅ wingType을 possibleWings 중에서 더 높은 점수를 받은 숫자로 설정
    let wingCandidates = possibleWings.filter(w => scores[w]); // 가능한 날개 중 점수가 있는 것만 남김
    wingType = wingCandidates.length > 0 ? 
        wingCandidates.sort((a, b) => scores[b] - scores[a])[0] : 
        ""; // 날개가 없으면 빈 문자열

    
    // ✅ 최종 결과명 설정 (날개가 없으면 `9w`처럼 깔끔하게 표시)
    let resultText = wingType ? `${mainType}w${wingType}` : `${mainType}w`;

    // ✅ 결과 이미지 파일명 설정
    let imageFileName = wingType ? `img254_${mainType}w${wingType}.jpg` : `img254_${mainType}w.jpg`;

    // ✅ 화면에 최종 결과 표시
    document.getElementById("quiz-page").classList.add("hidden");
    document.getElementById("extra-quiz-page").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");
   

    // ✅ 결과 이미지 표시
    document.getElementById("result-image").src = imageFileName;
    document.getElementById("result-image").alt = resultText;
}

</script>

</body>
</html>
