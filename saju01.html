

<!DOCTYPE html>
<html lang="ko">
<head>

     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5522499110435321"
     crossorigin="anonymous"></script>
     <meta http-equiv="Content-Security-Policy" content="
     default-src 'self' https://*;
     script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*;
     style-src 'self' 'unsafe-inline' https://*;
     img-src 'self' data: https://*;
     connect-src 'self' https://*;
     frame-src 'self' https://*;
     ">
     <script src="https://nsp.pay.naver.com/sdk/js/naverpay.min.js"></script>




    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>í…ŒìŠ¤íŠ¸ì‡ ë‚˜ì˜ ì „ì²´ ì‚¬ì£¼</title>
    <meta name="description" content="í…ŒìŠ¤íŠ¸ì‡ ë‚˜ì˜ ì „ì²´ ì‚¬ì£¼">
<meta name="keywords" content="í…ŒìŠ¤íŠ¸ì‡,ì „ì²´ì‚¬ì£¼,ì „í†µì‚¬ì£¼,í…ŒìŠ¤íŠ¸ì‡ì‚¬ì£¼,í…ŒìŠ¤íŠ¸ì‡ì „ì²´ì‚¬ì£¼,í…ŒìŠ¤íŠ¸ì‡ì‚¬ì£¼,ì •í™•í•œì‚¬ì£¼,ì—°ì• í…ŒìŠ¤íŠ¸,ì—°ì• mbti,ì—°ì• ì„±ê²©í…ŒìŠ¤íŠ¸, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, mbtií…ŒìŠ¤íŠ¸">
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="í…ŒìŠ¤íŠ¸ì‡ ë‚˜ì˜ ì „ì²´ ì‚¬ì£¼">
    <meta property="og:description" content="í…ŒìŠ¤íŠ¸ì‡ ë‚˜ì˜ ì „ì²´ ì‚¬ì£¼">
    <meta property="og:image" content="saju_main01.png">
    <meta property="og:url" content="https://test-it.co.kr/saju01">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      <link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">



<style>

/* start íƒœê·¸ì™€ question íƒœê·¸ ëª¨ë‘ article íƒœê·¸ë¼ì„œ article íƒœê·¸ì— ì†ì„±ì„ ì£¼ë©´ ë™ì‹œì— ì ìš©ë¨
.start{
    display: flex;
    flex-direction: column;
}
*/
    
   @font-face {
    font-family: 'ChosunGu';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    
      body {
            font-family: 'ChosunGu', sans-serif;
        }
    
.logo {
    width: 100px;
    margin-top: 14px;
}

.main-nav {
    display: flex;
    font-size: 1.25rem;
    text-transform: uppercase;
    margin-top: 34px;
    list-style: none;
}

.main-nav li {
    margin-left: 36px;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
    color: #432;
}

.main-nav a{
    color: #432;
       font-family: 'Do Hyeon', sans-serif;
    line-height: 1.7;
}

.main-nav a:hover {
    color: #0bd;
}


.page-header {
    display: flex;
    justify-content: space-between;
}

    
article{
    display: flex;
    flex-direction: column;
}

 
    
.question{
    display: none;
}

.result{
    display: none;
}
.progress-bar {
    background-color: #76c5c1;
}
.progress {
    background-color: #fbffe4;
}
#img{
    width: 500px;
    height: 900px;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

#img_main{
    width: 500px;
    height: 600px;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

#question-image {
    max-width: 100%;
    height: auto;
    margin: 0 auto;
    display: block;
}

.question-image {
    max-width: 100%;
    height: auto;
    margin: 0 auto;
    display: block;
}
.custom-jelly-button {
    width: 100%;
    max-width: 350px;
    height: 60px;
    font-size: 15px !important;
    font-weight: bold;
    color: black !important;
    background: linear-gradient(145deg, #ffcfcf, #ffcfcf); /* ë¶„í™ê³¼ ë…¸ë‘ ê·¸ë¼ë°ì´ì…˜ */
    border: none;
    border-radius: 17px;
    box-shadow: inset -4px -4px 10px rgba(255, 255, 255, 0.7), 
                inset 4px 4px 10px rgba(0, 0, 0, 0.1),
                2px 2px 8px rgba(0, 0, 0, 0.15);
    margin: 0 auto;
    display: block;
}

.custom-jelly-button:hover {
    background: linear-gradient(145deg, #ffcfcf, #ffcfcf); /* ë°˜ëŒ€ë¡œ ê·¸ë¼ë°ì´ì…˜ */
}


.page {
            display: none;
            margin: 0 auto;
            max-width: 600px;
            padding: 20px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .active {
            display: block;
        }
        input, button {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        
    
.jelly-question-box {
    width: 100%;
    max-width: 400px;
    min-height: 150px;
    padding: 30px 20px;
    margin: 20px auto;
    background: linear-gradient(145deg, #ffc1cc, #ff91a1); /* ì§„í•œ ë¶„í™ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
    border-radius: 25px;
    box-shadow: inset -6px -6px 12px rgba(255, 255, 255, 0.8), 
                inset 6px 6px 12px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #432;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* h6 ìš”ì†Œì˜ í°íŠ¸ í¬ê¸° ê°•ì œ ì ìš© */
.jelly-question-box h6 {
    font-size: 18px !important;
}
    
.btn-info.focus, .btn-info:focus {
    box-shadow: 0 0 0 0.1rem rgb(255 255 255);
}
    .btn-info:hover {
    color: #ffffff;
    background-color: #ffffff;
    border-color: #ffffff;
            box-shadow: 0 0 0 0.1rem rgb(255 255 255);
}
    .btn-info.focus, .btn-info:focus {
    color: #ffffff;
    background-color: #ffffff;
    border-color: #ffffff;
    box-shadow: 0 0 0 0.1rem rgb(255 255 255);
}
    .btn-info {
    color: #ffffff;
    background-color: #ffffff;
    border-color: #ffffff;
            box-shadow: 0 0 0 0.1rem rgb(255 255 255);
}
    .btn.focus, .btn:focus {
    outline: 0;
    box-shadow: 0 0 0 0.1rem rgb(255 255 255);
}
   
    
    
    .at-share-btn-elements{
        text-align: center;
    }
.share{
    margin: 0 auto;
}

.kakao_ad{
    width: 320px;
    margin: 0 auto;
}

.kakao_ad2{
    width: 320px;
    margin: 0 auto;
}
.coupang_ad {
    width: 320px;
    margin: 0 auto;
}
        .custom-button {
            width: 100%;
            max-width: 350px;
            margin: 0 auto;
        }
    
        input, select, button {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ddd;
    }
    
    
</style>





</head>
<!-- body íƒœê·¸ style background-color ì§€ì •ìœ¼ë¡œ ë°°ê²½ìƒ‰ ë³€ê²½-->
<body class="container" style="background-color:#ffffff">
            
    <header class="page-header wrapper">
        <h1><a href="index.html"><img class="logo" src="img_logo.png" alt="test it"></a>
        </h1>
    <nav>
        <u1 class="main-nav">
            <li> <a href="https://test-it.co.kr/test.html">ì„±ê²©</a></li>
            <li> <a href="https://test-it.co.kr/face.html">ì–¼êµ´</a></li>
            <li> <a href="https://test-it.co.kr/etc.html">ê·¸ì™¸</a></li>
            <li> <a href="https://test-it.co.kr/saju.html">ì‚¬ì£¼</a></li>
        </u1>
    </nav>
        
        
    </header>

<!-- 1. ì‚¬ì£¼ ë©”ì¸ í˜ì´ì§€ -->
<div id="mainPage" class="page active">

    <img src="saju_main01.png" alt="ì‚¬ì£¼ ì˜ˆì‹œ" style="width: 100%; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    <br><br>
    <button class="custom-jelly-button" onclick="showPage('infoPage')">ğŸ’Œ ì •ë³´ ì…ë ¥í•˜ê³  ê²°ì œí•˜ê¸°</button>
</div>

  <!-- 2. ì •ë³´ ì…ë ¥ í˜ì´ì§€ (ë“œë¡­ë‹¤ìš´ í˜•ì‹) -->
  <div id="infoPage" class="page">
    <h1>ğŸ“„ ì‚¬ì£¼ ì •ë³´ ì…ë ¥</h1>
    <form id="sajuForm">
      <input type="text" id="userName" placeholder="ì´ë¦„ (ì˜ˆ: í™ê¸¸ë™)" required><br>
      <label>ì„±ë³„:</label><br>
<select id="userGender" required>
    <option value="ì—¬ì„±">ì—¬ì„±</option>
    <option value="ë‚¨ì„±">ë‚¨ì„±</option>
</select>
<br>
      <label>ìƒë…„ì›”ì¼:</label><br>
      <select id="birthType" required>
        <option value="ì–‘ë ¥">ì–‘ë ¥</option>
        <option value="ìŒë ¥">ìŒë ¥</option>
    </select>
      <select id="birthYear" required></select>
      <select id="birthMonth" required></select>
      <select id="birthDay" required></select>
      
      <br>
      <label>íƒœì–´ë‚œ ì‹œê°„:</label><br>
      <select id="birthHour" required>
          <option value="ëª¨ë¦„">ëª¨ë¦„</option>
          <option value="ìì‹œ">ìì‹œ (23:30 ~ 01:30)</option>
          <option value="ì¶•ì‹œ">ì¶•ì‹œ (01:30 ~ 03:30)</option>
          <option value="ì¸ì‹œ">ì¸ì‹œ (03:30 ~ 05:30)</option>
          <option value="ë¬˜ì‹œ">ë¬˜ì‹œ (05:30 ~ 07:30)</option>
          <option value="ì§„ì‹œ">ì§„ì‹œ (07:30 ~ 09:30)</option>
          <option value="ì‚¬ì‹œ">ì‚¬ì‹œ (09:30 ~ 11:30)</option>
          <option value="ì˜¤ì‹œ">ì˜¤ì‹œ (11:30 ~ 13:30)</option>
          <option value="ë¯¸ì‹œ">ë¯¸ì‹œ (13:30 ~ 15:30)</option>
          <option value="ì‹ ì‹œ">ì‹ ì‹œ (15:30 ~ 17:30)</option>
          <option value="ìœ ì‹œ">ìœ ì‹œ (17:30 ~ 19:30)</option>
          <option value="ìˆ ì‹œ">ìˆ ì‹œ (19:30 ~ 21:30)</option>
          <option value="í•´ì‹œ">í•´ì‹œ (21:30 ~ 23:30)</option>
      </select>      
      <br>
      <input type="email" id="userEmail" placeholder="ì´ë©”ì¼ (ì˜ˆ: example@email.com)" required><br>
      <button type="button" class="custom-jelly-button" onclick="showPage('paymentPage')">ğŸ’° ê²°ì œí•˜ê¸°</button>
      <br>
      <button type="button" class="custom-jelly-button" onclick="showPage('mainPage')">â¬…ï¸ ëŒì•„ê°€ê¸°</button>
    </form>
  </div>

<!-- 3. ê²°ì œ í˜ì´ì§€ -->
<div id="paymentPage" class="page">
    <h1>ğŸ’³ ê²°ì œ ì§„í–‰</h1>
    <div id="userInfo"></div>
    <button class="custom-jelly-button" onclick="startKakaoPay('ì •í†µì‚¬ì£¼', 9900)">ğŸ’› ì¹´ì¹´ì˜¤í˜ì´ë¡œ ê²°ì œí•˜ê¸° (9,900ì›)</button><br>
    <button class="custom-jelly-button" onclick="startNaverPay('ì •í†µì‚¬ì£¼', 9900)">ğŸ’š ë„¤ì´ë²„í˜ì´ë¡œ ê²°ì œí•˜ê¸° (9,900ì›)</button>
    <br><br>
    <button class="custom-jelly-button" onclick="showPage('infoPage')">â¬…ï¸ ì •ë³´ ìˆ˜ì •</button>
</div>

<script>

    // ë‚ ì§œ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì±„ìš°ê¸°
function populateDateSelectors() {
    const yearSelect = document.getElementById("birthYear");
    const monthSelect = document.getElementById("birthMonth");
    const daySelect = document.getElementById("birthDay");
    const currentYear = new Date().getFullYear();

    // ì—°ë„ ì„ íƒ (1900ë…„ë¶€í„° í˜„ì¬ê¹Œì§€)
    for (let y = 1900; y <= currentYear; y++) {
        const option = document.createElement("option");
        option.value = y;
        option.text = y;
        yearSelect.add(option);
    }

    // ì›” ì„ íƒ
    for (let m = 1; m <= 12; m++) {
        const option = document.createElement("option");
        option.value = m;
        option.text = m;
        monthSelect.add(option);
    }

    // ì¼ ì„ íƒ
    for (let d = 1; d <= 31; d++) {
        const option = document.createElement("option");
        option.value = d;
        option.text = d;
        daySelect.add(option);
    }
}


    // í˜ì´ì§€ ì´ë™ ì‹œ ë°ì´í„° ë°˜ì˜
    function showPage(pageId) {
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
      
      if (pageId === 'paymentPage') {
        const userName = document.getElementById("userName").value;
        const birthType = document.getElementById("birthType").value;
        const birthYear = document.getElementById("birthYear").value;
        const birthMonth = document.getElementById("birthMonth").value;
        const birthDay = document.getElementById("birthDay").value;
        const birthDate = `${birthYear}-${String(birthMonth).padStart(2, '0')}-${String(birthDay).padStart(2, '0')}`;
        const birthHour = document.getElementById("birthHour").value;
        const userEmail = document.getElementById("userEmail").value;
        
        if (!userName || !birthYear || !birthMonth || !birthDay || !birthHour || !userEmail) {
          alert("ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
          showPage('infoPage');
          return;
        }
        
        document.getElementById("userInfo").innerHTML = `
          <h2>ì…ë ¥ ì •ë³´ í™•ì¸</h2>
          <p><strong>ì´ë¦„:</strong> ${userName}</p>
          <p><strong>ìƒë…„ì›”ì¼:</strong> ${birthDate} (${birthType})</p>
          <p><strong>íƒœì–´ë‚œ ì‹œê°„:</strong> ${birthHour}</p>
          <p><strong>ì´ë©”ì¼:</strong> ${userEmail}</p>
        `;
      }
    }



// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
window.onload = function () {
    populateDateSelectors();
};

function startKakaoPay(itemName, price) {
    const userName = document.getElementById("userName").value;
    const userGender = document.getElementById("userGender").value;  // ì„±ë³„ ê°€ì ¸ì˜¤ê¸°
    const birthYear = document.getElementById("birthYear").value;
    const birthMonth = document.getElementById("birthMonth").value;
    const birthDay = document.getElementById("birthDay").value;
    const birthType = document.getElementById("birthType").value;
    const birthHour = document.getElementById("birthHour").value;
    const userEmail = document.getElementById("userEmail").value;

    if (!userName || !userGender || !birthYear || !birthMonth || !birthDay || !birthType || !birthHour || !userEmail) {
        alert("âš ï¸ ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
        return;
    }

    const birthDate = `${birthYear}-${String(birthMonth).padStart(2, '0')}-${String(birthDay).padStart(2, '0')}`;
    const successUrl = `https://test-it.co.kr/saju-success.html?name=${encodeURIComponent(userName)}
&gender=${encodeURIComponent(userGender)}
&birth=${encodeURIComponent(birthDate)}
&birthType=${encodeURIComponent(birthType)}
&time=${encodeURIComponent(birthHour)}
&email=${encodeURIComponent(userEmail)}`;

    console.log("ğŸš€ ì¹´ì¹´ì˜¤í˜ì´ successUrl:", successUrl);

    // ì„±ë³„ í¬í•¨ ë°ì´í„° ì „ì†¡
    sendToGoogleSheet(userName, userGender, birthDate, birthType, birthHour, userEmail);

    fetch("https://kapi.kakao.com/v1/payment/ready", {
        method: "POST",
        headers: {
            "Authorization": "KakaoAK 9ef00fb320e149a6aed3dae54cf9f18a",
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: new URLSearchParams({
            cid: "TC0ONETIME",
            partner_order_id: "order_" + new Date().getTime(),
            partner_user_id: userEmail,
            item_name: `${itemName} (${userName})`,
            quantity: 1,
            total_amount: price,
            tax_free_amount: 0,
            approval_url: successUrl,
            fail_url: "https://test-it.co.kr/payment-fail",
            cancel_url: "https://test-it.co.kr/payment-cancel"
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.next_redirect_pc_url) {
            window.location.href = data.next_redirect_pc_url;
        } else {
            alert("âŒ ê²°ì œ ìš”ì²­ ì‹¤íŒ¨: " + (data.code || "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"));
        }
    })
    .catch(error => console.error("âŒ ê²°ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", error));
}



function startNaverPay(itemName, price) {
    const userName = document.getElementById("userName").value;
    const userGender = document.getElementById("userGender").value;  // ì„±ë³„ ê°€ì ¸ì˜¤ê¸°
    const birthYear = document.getElementById("birthYear").value;
    const birthMonth = document.getElementById("birthMonth").value;
    const birthDay = document.getElementById("birthDay").value;
    const birthType = document.getElementById("birthType").value;
    const birthHour = document.getElementById("birthHour").value;
    const userEmail = document.getElementById("userEmail").value;

    if (!userName || !userGender || !birthYear || !birthMonth || !birthDay || !birthType || !birthHour || !userEmail) {
        alert("âš ï¸ ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”!");
        return;
    }

    const birthDate = `${birthYear}-${String(birthMonth).padStart(2, '0')}-${String(birthDay).padStart(2, '0')}`;
    const successUrl = `https://test-it.co.kr/saju-success.html?name=${encodeURIComponent(userName)}
&gender=${encodeURIComponent(userGender)}
&birth=${encodeURIComponent(birthDate)}
&birthType=${encodeURIComponent(birthType)}
&time=${encodeURIComponent(birthHour)}
&email=${encodeURIComponent(userEmail)}`;

    console.log("ğŸš€ ë„¤ì´ë²„í˜ì´ successUrl:", successUrl);

    // ê²°ì œ ì„±ê³µ ì‹œ ë°ì´í„° ì „ì†¡
    sendToGoogleSheet(userName, userGender, birthDate, birthType, birthHour, userEmail);

    const oPay = Naver.Pay.create({
        mode: "development",
        clientId: "HN3GGCMDdTgGUfl0kFCo",
        chainId: "a3lzdzZ0QmtxSG1"
    });

    oPay.open({
        merchantPayKey: "order_" + new Date().getTime(),
        productName: `${itemName} (${userName})`,
        productCount: "1",
        totalPayAmount: price,
        taxScopeAmount: price,
        returnUrl: successUrl
    });

    alert("ğŸ’° ë„¤ì´ë²„í˜ì´ ê²°ì œê°€ ì§„í–‰ë©ë‹ˆë‹¤!");
}


    
function sendToGoogleSheet(userName, userGender, birthDate, birthType, birthTime, userEmail) {
    console.log("ğŸ“¤ Google Sheetì— ì „ì†¡í•  ë°ì´í„°:");
    console.log("ì´ë¦„:", userName);
    console.log("ì„±ë³„:", userGender);
    console.log("ìƒë…„ì›”ì¼:", birthDate);
    console.log("ì–‘ë ¥/ìŒë ¥:", birthType);
    console.log("ì¶œìƒ ì‹œê°„:", birthTime);
    console.log("ì´ë©”ì¼:", userEmail);

    fetch("https://script.google.com/macros/s/AKfycbwthEXtrunyVulU7fL000nqm1lkfTnTKWnuZqSkRBhEfAK8gKm6Sw6DZPFPxcs_WZT8/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            userName: userName,
            userGender: userGender,   // ğŸŒŸ ì„±ë³„ ì¶”ê°€
            birthDate: birthDate,
            birthType: birthType,
            birthTime: birthTime,
            userEmail: userEmail,
            paymentTime: new Date().toLocaleString()
        })
    })
    .then(() => {
        console.log("âœ… ì‚¬ì£¼ í˜ì´ì§€ì—ì„œ ì„±ë³„ í¬í•¨ ë°ì´í„° ì „ì†¡ ì™„ë£Œ.");
    })
    .catch(error => {
        console.error("âŒ ì‚¬ì£¼ í˜ì´ì§€ ì„œë²„ í†µì‹  ì˜¤ë¥˜:", error);
    });
}

    // ëª¨ë“  ì´ˆê¸°í™” ë° URL íŒŒë¼ë¯¸í„° ì²˜ë¦¬ í†µí•©
    window.onload = function() {
      populateDateSelectors();
      populateTimeSelectors();
      
// ê²°ì œ ì„±ê³µ í›„ URL íŒŒë¼ë¯¸í„° ì²˜ë¦¬
const urlParams = new URLSearchParams(window.location.search);
const userName = urlParams.get("name");
const userGender = urlParams.get("gender");  // ğŸŒŸ ì„±ë³„ ì¶”ê°€
const birthDate = urlParams.get("birth");
const birthType = urlParams.get("birthType");
const birthTime = urlParams.get("time");
const userEmail = urlParams.get("email");

if (userName && userGender && birthDate && birthType && birthTime && userEmail) {
    saveToGoogleSheet(userName, userGender, birthDate, birthType, birthTime, userEmail);
    alert(`ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nì´ë¦„: ${userName}\nì„±ë³„: ${userGender}\nì´ë©”ì¼: ${userEmail}`);
}
    }
  </script>
</body>
</html>